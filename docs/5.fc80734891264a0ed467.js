(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{dgmN:function(t,e,a){"use strict";a.r(e),a.d(e,"PagesModule",(function(){return sa}));var i=a("ofXK"),o=a("3Pt+");function n(t,e,a,i){return new(a||(a=Promise))((function(o,n){function r(t){try{s(i.next(t))}catch(e){n(e)}}function c(t){try{s(i.throw(t))}catch(e){n(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,c)}s((i=i.apply(t,e||[])).next())}))}var r=a("fXoL"),c=a("XNiG"),s=a("1G5W");const b=new r.s("@sweetalert2/ngx-sweetalert2#swalProvider"),l=new r.s("@sweetalert2/ngx-sweetalert2#fireOnInit"),d=new r.s("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let u=(()=>{let t=class{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t="function"==typeof(e=this.swalProvider)&&void 0===e.version?this.swalProvider():Promise.resolve(this.swalProvider);var e;this.swalPromiseCache=t.then(t=>function(t){return"function"==typeof t}(t)?t:t.default)}};return t.\u0275fac=function(e){return new(e||t)(r.Wb(b))},t.\u0275prov=r.Ib({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),m=(()=>{let t=class{constructor(t,e,a){this.sweetAlert2Loader=t,this.moduleLevelFireOnInit=e,this.moduleLevelDismissOnDestroy=a,this.beforeOpen=new r.o,this.open=new r.o,this.render=new r.o,this.close=new r.o,this.afterClose=new r.o,this.destroy=new r.o,this.confirm=new r.o,this.cancel=new r.o,this.touchedProps=new Set,this.markTouched=this.touchedProps.add.bind(this.touchedProps),this.isCurrentlyShown=!1}set swalOptions(t){Object.assign(this,t),Object.keys(t).forEach(this.markTouched)}get swalOptions(){return[...this.touchedProps].reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:this[e]}),{})}set swalVisible(t){t?this.fire():this.dismiss()}get swalVisible(){return this.isCurrentlyShown}ngOnInit(){this.sweetAlert2Loader.preloadSweetAlertLibrary()}ngAfterViewInit(){(void 0===this.swalFireOnInit?this.moduleLevelFireOnInit:this.swalFireOnInit)&&this.fire()}ngOnChanges(t){Object.keys(t).filter(t=>!t.startsWith("swal")).forEach(this.markTouched),this.update()}ngOnDestroy(){(void 0===this.swalDismissOnDestroy?this.moduleLevelDismissOnDestroy:this.swalDismissOnDestroy)&&this.dismiss()}fire(){return n(this,void 0,void 0,(function*(){const t=yield this.sweetAlert2Loader.swal,e=this.swalOptions,a=Object.assign(Object.assign({},e),{onBeforeOpen:o(e.onBeforeOpen,t=>{this.beforeOpen.emit({modalElement:t})}),onOpen:o(e.onOpen,t=>{this.isCurrentlyShown=!0,this.open.emit({modalElement:t})}),onRender:o(e.onRender,t=>{this.render.emit({modalElement:t})}),onClose:o(e.onClose,t=>{this.isCurrentlyShown=!1,this.close.emit({modalElement:t})}),onAfterClose:o(e.onAfterClose,()=>{this.afterClose.emit()}),onDestroy:o(e.onDestroy,()=>{this.destroy.emit()})}),i=yield t.fire(a);return"value"in i?this.confirm.emit(i.value):this.cancel.emit(i.dismiss),i;function o(t,e){return(...a)=>(e(...a),null==t?void 0:t(...a))}}))}dismiss(t){return n(this,void 0,void 0,(function*(){this.isCurrentlyShown&&(yield this.sweetAlert2Loader.swal).close(t)}))}update(t){return n(this,void 0,void 0,(function*(){if(t&&(this.swalOptions=t),!this.isCurrentlyShown)return;const e=yield this.sweetAlert2Loader.swal,a=this.swalOptions,i=Object.keys(a).filter(e.isUpdatableParameter).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:a[e]}),{});e.update(i)}))}};return t.\u0275fac=function(e){return new(e||t)(r.Mb(u),r.Mb(l),r.Mb(d))},t.\u0275cmp=r.Gb({type:t,selectors:[["swal"]],inputs:{swalOptions:"swalOptions",swalVisible:"swalVisible",title:"title",titleText:"titleText",text:"text",html:"html",footer:"footer",icon:"icon",iconHtml:"iconHtml",backdrop:"backdrop",toast:"toast",target:"target",input:"input",width:"width",padding:"padding",background:"background",position:"position",grow:"grow",showClass:"showClass",hideClass:"hideClass",customClass:"customClass",timer:"timer",timerProgressBar:"timerProgressBar",animation:"animation",heightAuto:"heightAuto",allowOutsideClick:"allowOutsideClick",allowEscapeKey:"allowEscapeKey",allowEnterKey:"allowEnterKey",stopKeydownPropagation:"stopKeydownPropagation",keydownListenerCapture:"keydownListenerCapture",showConfirmButton:"showConfirmButton",showCancelButton:"showCancelButton",confirmButtonText:"confirmButtonText",cancelButtonText:"cancelButtonText",confirmButtonColor:"confirmButtonColor",cancelButtonColor:"cancelButtonColor",confirmButtonAriaLabel:"confirmButtonAriaLabel",cancelButtonAriaLabel:"cancelButtonAriaLabel",buttonsStyling:"buttonsStyling",reverseButtons:"reverseButtons",focusConfirm:"focusConfirm",focusCancel:"focusCancel",showCloseButton:"showCloseButton",closeButtonHtml:"closeButtonHtml",closeButtonAriaLabel:"closeButtonAriaLabel",showLoaderOnConfirm:"showLoaderOnConfirm",preConfirm:"preConfirm",imageUrl:"imageUrl",imageWidth:"imageWidth",imageHeight:"imageHeight",imageAlt:"imageAlt",inputPlaceholder:"inputPlaceholder",inputValue:"inputValue",inputOptions:"inputOptions",inputAutoTrim:"inputAutoTrim",inputAttributes:"inputAttributes",inputValidator:"inputValidator",validationMessage:"validationMessage",progressSteps:"progressSteps",currentProgressStep:"currentProgressStep",progressStepsDistance:"progressStepsDistance",scrollbarPadding:"scrollbarPadding",swalFireOnInit:"swalFireOnInit",swalDismissOnDestroy:"swalDismissOnDestroy"},outputs:{beforeOpen:"beforeOpen",open:"open",render:"render",close:"close",afterClose:"afterClose",destroy:"destroy",confirm:"confirm",cancel:"cancel"},features:[r.zb],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();var f;function p(){return Promise.resolve().then(a.t.bind(null,"PSD3",7))}let h=(()=>{let t=f=class{static forRoot(t={}){return{ngModule:f,providers:[u,{provide:b,useValue:t.provideSwal||p},{provide:l,useValue:t.fireOnInit||!1},{provide:d,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:f,providers:[...t.provideSwal?[u,{provide:b,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:l,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:d,useValue:t.dismissOnDestroy}]:[]]}}};return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var S=a("hctd"),R=a("tyNb"),g=a("IYfF"),v=a("/t3+"),B=a("bTqV"),w=a("NFeN"),C=a("STbY"),y=a("XhcP"),A=a("7EHt"),D=a("MutI"),k=a("FKr1");const O=["sidenav"];function I(t,e){if(1&t&&(r.Sb(0,"a",17),r.Sb(1,"mat-icon",18),r.Bc(2),r.Rb(),r.Sb(3,"span",19),r.Bc(4),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.ic("routerLink",t.url),r.Bb(2),r.Cc(t.icon),r.Bb(2),r.Cc(t.label)}}function N(t,e){if(1&t&&(r.Sb(0,"mat-expansion-panel",14),r.Sb(1,"mat-expansion-panel-header"),r.Sb(2,"mat-panel-title"),r.Sb(3,"mat-icon",15),r.Bc(4),r.Rb(),r.Bc(5),r.Rb(),r.Rb(),r.Sb(6,"mat-nav-list"),r.Ac(7,I,5,3,"a",16),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.ic("disabled",!t.submenu),r.Bb(4),r.Cc(t.icon),r.Bb(1),r.Dc(" ",t.label," "),r.Bb(2),r.ic("ngForOf",t.submenu)}}const L=["*"];let x=(()=>{class t{constructor(t){this.authService=t,this.Menu=[{label:"Administrar",icon:"settings",submenu:[{label:"Usuarios",url:"usuarios",icon:"supervisor_account"},{label:"Colaboradores",url:"colaboradores",icon:"people_outline"},{label:"Ruta",url:"rutas",icon:"alt_route"},{label:"Flota",url:"flota",icon:"local_shipping"}]},{label:"Bitacora",icon:"assignment_turned_in",submenu:[{label:"Embarque",url:"embarque",icon:"link"}]}],this.opened=!0}ngOnInit(){window.innerWidth<768?(this.sidenav.fixedTopGap=window.innerWidth>600?64:56,this.opened=!1):(this.sidenav.fixedTopGap=64,this.opened=!0)}onResize(t){t.target.innerWidth<768?(this.sidenav.fixedTopGap=t.target.innerWidth>600?64:56,this.opened=!1):(this.sidenav.fixedTopGap=64,this.opened=!0)}isBiggerScreen(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768}salir(){this.authService.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(g.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-sidenav"]],viewQuery:function(t,e){var a;1&t&&r.wc(O,!0),2&t&&r.oc(a=r.ac())&&(e.sidenav=a.first)},hostBindings:function(t,e){1&t&&r.Zb("resize",(function(t){return e.onResize(t)}),!1,r.rc)},ngContentSelectors:L,decls:32,vars:5,consts:[["color","primary"],["mat-icon-button","",3,"click"],[1,"ml-auto"],["mat-icon-button","","routerLink","/dashboard"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","routerLink","perfil"],["mat-menu-item","",3,"click"],[1,"example-container","is-dark"],[2,"min-width","250px",3,"mode","opened","fixedInViewport","fixedTopGap","openedChange"],["sidenav",""],["displayMode","flat"],[3,"disabled",4,"ngFor","ngForOf"],[1,"is-light",2,"background-color","#ecf0f5"],[3,"disabled"],[1,"mr-3"],["mat-list-item","","routerLinkActive","active","href","#",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","active","href","#",3,"routerLink"],["matListIcon","",1,"ml-3"],["matLine",""]],template:function(t,e){if(1&t){const t=r.Tb();r.hc(),r.Sb(0,"mat-toolbar",0),r.Sb(1,"button",1),r.Zb("click",(function(){return r.sc(t),r.pc(27).toggle()})),r.Sb(2,"mat-icon"),r.Bc(3,"menu"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Bc(5,"MyApp"),r.Rb(),r.Sb(6,"div",2),r.Sb(7,"button",3),r.Sb(8,"mat-icon"),r.Bc(9,"dashboard"),r.Rb(),r.Rb(),r.Sb(10,"button",4),r.Sb(11,"mat-icon"),r.Bc(12,"more_vert"),r.Rb(),r.Rb(),r.Sb(13,"mat-menu",null,5),r.Sb(15,"button",6),r.Sb(16,"mat-icon"),r.Bc(17,"person_outline"),r.Rb(),r.Sb(18,"span"),r.Bc(19,"Mi perfil"),r.Rb(),r.Rb(),r.Sb(20,"button",7),r.Zb("click",(function(){return e.salir()})),r.Sb(21,"mat-icon"),r.Bc(22,"exit_to_app"),r.Rb(),r.Sb(23,"span"),r.Bc(24,"Cerrar sesion"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(25,"mat-sidenav-container",8),r.Sb(26,"mat-sidenav",9,10),r.Zb("openedChange",(function(t){return e.opened=t})),r.Sb(28,"mat-accordion",11),r.Ac(29,N,8,4,"mat-expansion-panel",12),r.Rb(),r.Rb(),r.Sb(30,"mat-sidenav-content",13),r.gc(31),r.Rb(),r.Rb()}if(2&t){const t=r.pc(14);r.Bb(10),r.ic("matMenuTriggerFor",t),r.Bb(16),r.ic("mode",e.isBiggerScreen()?"over":"side")("opened",e.opened)("fixedInViewport",!0),r.Bb(3),r.ic("ngForOf",e.Menu)}},directives:[v.a,B.a,w.a,R.b,C.c,C.d,C.a,y.b,y.a,A.a,i.l,y.c,A.c,A.d,A.e,D.e,D.c,R.d,R.c,D.b,k.i],styles:[".example-container[_ngcontent-%COMP%] {\n      height: calc(100vh - 64px);\n      .mat-sidenav-content {\n        height: calc(100vh - 64px);\n      }\n    }"]}),t})(),E=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-pages"]],decls:3,vars:0,consts:[[1,"container-fluid","pt-3"]],template:function(t,e){1&t&&(r.Sb(0,"app-sidenav"),r.Sb(1,"div",0),r.Nb(2,"router-outlet"),r.Rb(),r.Rb())},directives:[x,R.f],encapsulation:2}),t})();var j=a("0IaG"),_=a("tk/3"),P=a("lJxs"),M=a("AytR");let T=(()=>{class t{constructor(t,e){this.http=t,this.authUser=e,this.api=M.a.api,this.headers=(new _.d).set("Content-Type","application/json")}getAll(){return this.http.get(this.api+"/usuario?token="+this.authUser.token,{headers:this.headers}).pipe(Object(P.a)(t=>t.data))}addElement(t){}updateElement(t){return this.http.put(this.api+"/usuario/"+t._id+"?token="+this.authUser.token,t,{headers:this.headers}).pipe(Object(P.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(_.b),r.Wb(g.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=a("dNgK"),$=a("kmnG"),G=a("qFsG"),H=a("d3UM"),q=a("Xa2L");function U(t,e){1&t&&r.Nb(0,"mat-spinner",25)}function Q(t,e){1&t&&(r.Sb(0,"span"),r.Bc(1,"Guardar"),r.Rb())}let V=(()=>{class t{constructor(t,e,a,i,n){this.fb=t,this.usuarioService=e,this.snack=a,this.dialogRef=i,this.data=n,this.forma=this.fb.group({nombre:[this.data.nombre,o.n.required],apellidos:[this.data.apellidos],direccion:[this.data.direccion],telefono:[this.data.telefono],usuario:[this.data.usuario,o.n.required],password:[],email:[this.data.email],role:[this.data.role||"USER_ROLE",o.n.required]})}ngOnInit(){}saveData(){if(!this.forma.valid)return this.snack.open("Favor de rellenar los compos!","Ok");this.isLoading=!0,this.data._id?(this.forma.value._id=this.data._id,this.usuarioService.updateElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):this.usuarioService.addElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.d),r.Mb(T),r.Mb(F.b),r.Mb(j.h),r.Mb(j.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-usuario-modal"]],decls:59,vars:5,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col-sm-6"],[1,"w-100"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellidos"],[1,"col-sm-7"],["matInput","","formControlName","direccion"],[1,"col-sm-5"],["matInput","","formControlName","telefono"],["matInput","","formControlName","usuario"],["matInput","","formControlName","password","type","password"],["matInput","","formControlName","email"],["matInput","","formControlName","role"],["value","ROOT_ROLE"],["value","ADMIN_ROLE"],["value","ESPECIAL_ROLE"],["value","USER_ROLE"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","submit",2,"min-width","85px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","my-1"]],template:function(t,e){1&t&&(r.Sb(0,"form",0),r.Zb("ngSubmit",(function(){return e.saveData()})),r.Sb(1,"h2",1),r.Bc(2,"Actualizar"),r.Rb(),r.Sb(3,"mat-dialog-content",2),r.Sb(4,"div",3),r.Sb(5,"div",4),r.Sb(6,"mat-form-field",5),r.Sb(7,"mat-label"),r.Bc(8,"Nombre"),r.Rb(),r.Nb(9,"input",6),r.Rb(),r.Rb(),r.Sb(10,"div",4),r.Sb(11,"mat-form-field",5),r.Sb(12,"mat-label"),r.Bc(13,"Apellidos"),r.Rb(),r.Nb(14,"input",7),r.Rb(),r.Rb(),r.Rb(),r.Sb(15,"div",3),r.Sb(16,"div",8),r.Sb(17,"mat-form-field",5),r.Sb(18,"mat-label"),r.Bc(19,"Direccion"),r.Rb(),r.Nb(20,"input",9),r.Rb(),r.Rb(),r.Sb(21,"div",10),r.Sb(22,"mat-form-field",5),r.Sb(23,"mat-label"),r.Bc(24,"Telefono"),r.Rb(),r.Nb(25,"input",11),r.Rb(),r.Rb(),r.Rb(),r.Sb(26,"div",3),r.Sb(27,"div",4),r.Sb(28,"mat-form-field",5),r.Sb(29,"mat-label"),r.Bc(30,"Usuario"),r.Rb(),r.Nb(31,"input",12),r.Rb(),r.Rb(),r.Sb(32,"div",4),r.Sb(33,"mat-form-field",5),r.Sb(34,"mat-label"),r.Bc(35,"Contrase\xf1a"),r.Rb(),r.Nb(36,"input",13),r.Rb(),r.Rb(),r.Rb(),r.Sb(37,"mat-form-field",5),r.Sb(38,"mat-label"),r.Bc(39,"Correo"),r.Rb(),r.Nb(40,"input",14),r.Rb(),r.Sb(41,"mat-form-field",5),r.Sb(42,"mat-label"),r.Bc(43,"Elija un area designada"),r.Rb(),r.Sb(44,"mat-select",15),r.Sb(45,"mat-option",16),r.Bc(46,"Superadministrador"),r.Rb(),r.Sb(47,"mat-option",17),r.Bc(48,"Administrador"),r.Rb(),r.Sb(49,"mat-option",18),r.Bc(50,"Especial"),r.Rb(),r.Sb(51,"mat-option",19),r.Bc(52,"Usuario"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(53,"mat-dialog-actions",20),r.Sb(54,"button",21),r.Bc(55,"Cancel"),r.Rb(),r.Sb(56,"button",22),r.Ac(57,U,1,0,"mat-spinner",23),r.Ac(58,Q,2,0,"span",24),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.ic("formGroup",e.forma),r.Bb(54),r.ic("disabled",e.isLoading),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(1),r.ic("ngIf",e.isLoading),r.Bb(1),r.ic("ngIf",!e.isLoading))},directives:[o.o,o.k,o.f,j.i,j.f,$.c,$.f,G.b,o.c,o.j,o.e,H.a,k.l,j.d,B.a,j.e,i.m,q.d],encapsulation:2}),t})();var W=a("Wp6s"),Z=a("+0xr"),z=a("2Vo4"),K=a("itXk"),X=a("CqXF");let J=(()=>{class t{constructor(t,e){this.table=t,this.renderer=e,this.onDestroy$=new c.a,this.theadChanged$=new z.a(!0),this.tbodyChanged$=new c.a,this.theadObserver=new MutationObserver(()=>this.theadChanged$.next(!0)),this.tbodyObserver=new MutationObserver(()=>this.tbodyChanged$.next(!0))}ngOnInit(){this.thead=this.table.nativeElement.querySelector("thead"),this.tbody=this.table.nativeElement.querySelector("tbody"),this.theadObserver.observe(this.thead,{characterData:!0,subtree:!0}),this.tbodyObserver.observe(this.tbody,{childList:!0})}ngAfterViewInit(){Object(K.a)([this.theadChanged$,this.tbodyChanged$]).pipe(Object(X.a)([this.thead.rows.item(0),this.tbody.rows]),Object(P.a)(([t,e])=>[[...t.children].map(t=>t.textContent),[...e].map(t=>[...t.children])]),Object(s.a)(this.onDestroy$)).subscribe(([t,e])=>e.forEach(e=>e.forEach(e=>this.renderer.setAttribute(e,"data-column-name",t[e.cellIndex]))))}ngOnDestroy(){this.theadObserver.disconnect(),this.tbodyObserver.disconnect(),this.onDestroy$.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.G))},t.\u0275dir=r.Hb({type:t,selectors:[["","matTableResponsive",""]]}),t})();function Y(t,e){1&t&&(r.Sb(0,"th",14),r.Bc(1," Nombre. "),r.Rb())}function tt(t,e){if(1&t&&(r.Sb(0,"td",15),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.nombre," ")}}function et(t,e){1&t&&(r.Sb(0,"th",14),r.Bc(1," Usuario "),r.Rb())}function at(t,e){if(1&t&&(r.Sb(0,"td",15),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.usuario," ")}}function it(t,e){1&t&&(r.Sb(0,"th",14),r.Bc(1," Telefono "),r.Rb())}function ot(t,e){if(1&t&&(r.Sb(0,"td",15),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.telefono," ")}}function nt(t,e){1&t&&(r.Sb(0,"th",14),r.Bc(1," Rol "),r.Rb())}function rt(t,e){if(1&t&&(r.Sb(0,"td",15),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.role," ")}}function ct(t,e){1&t&&(r.Sb(0,"th",14),r.Bc(1," Email "),r.Rb())}function st(t,e){if(1&t&&(r.Sb(0,"td",15),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.email," ")}}function bt(t,e){1&t&&r.Nb(0,"th",14)}function lt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"td",15),r.Sb(1,"button",16),r.Zb("click",(function(){r.sc(t);const a=e.$implicit;return r.dc().openDialog(a)})),r.Sb(2,"mat-icon"),r.Bc(3,"edit"),r.Rb(),r.Rb(),r.Sb(4,"button",17),r.Sb(5,"mat-icon"),r.Bc(6,"delete"),r.Rb(),r.Rb(),r.Rb()}}function dt(t,e){1&t&&r.Nb(0,"tr",18)}function ut(t,e){1&t&&r.Nb(0,"tr",19)}function mt(t,e){1&t&&(r.Sb(0,"div",20),r.Nb(1,"mat-spinner"),r.Rb())}let ft=(()=>{class t{constructor(t,e){this.dialog=t,this.usuarioService=e,this.displayedColumns=["nombre","usuario","telefono","role","email","actions"]}ngOnInit(){this.getAll()}getAll(){return this.usuarioService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(V,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(j.c),r.Mb(T))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-usuarios"]],decls:33,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","usuario"],["matColumnDef","telefono"],["matColumnDef","role"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.Bc(3,"Usuario"),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.Bc(5,"Usuarios actuales"),r.Rb(),r.Rb(),r.Sb(6,"div",0),r.Sb(7,"button",1),r.Zb("click",(function(){return e.openDialog()})),r.Sb(8,"mat-icon"),r.Bc(9,"add"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"mat-card-content"),r.Sb(11,"table",2),r.Qb(12,3),r.Ac(13,Y,2,0,"th",4),r.Ac(14,tt,2,1,"td",5),r.Pb(),r.Qb(15,6),r.Ac(16,et,2,0,"th",4),r.Ac(17,at,2,1,"td",5),r.Pb(),r.Qb(18,7),r.Ac(19,it,2,0,"th",4),r.Ac(20,ot,2,1,"td",5),r.Pb(),r.Qb(21,8),r.Ac(22,nt,2,0,"th",4),r.Ac(23,rt,2,1,"td",5),r.Pb(),r.Qb(24,9),r.Ac(25,ct,2,0,"th",4),r.Ac(26,st,2,1,"td",5),r.Pb(),r.Qb(27,10),r.Ac(28,bt,1,0,"th",4),r.Ac(29,lt,7,0,"td",5),r.Pb(),r.Ac(30,dt,1,0,"tr",11),r.Ac(31,ut,1,0,"tr",12),r.Rb(),r.Ac(32,mt,2,0,"div",13),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.ic("dataSource",e.data),r.Bb(19),r.ic("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),r.Bb(1),r.ic("matRowDefColumns",e.displayedColumns),r.Bb(1),r.ic("ngIf",!e.data))},directives:[W.a,W.c,W.f,W.e,B.a,w.a,W.b,Z.j,J,Z.c,Z.e,Z.b,Z.g,Z.i,i.m,Z.d,Z.a,Z.f,Z.h,q.d],encapsulation:2}),t})(),pt=(()=>{class t{constructor(t,e){this.http=t,this.authService=e,this.api=M.a.api,this.headers=(new _.d).set("Content-Type","application/json")}getAll(){return this.http.get(this.api+"/empleado?token="+this.authService.token,{headers:this.headers}).pipe(Object(P.a)(t=>t.data))}addElement(t){return this.http.post(this.api+"/empleado?token="+this.authService.token,t,{headers:this.headers}).pipe(Object(P.a)(t=>t.data))}updateElement(t){return this.http.put(this.api+"/empleado/"+t._id+"?token="+this.authService.token,t,{headers:this.headers}).pipe(Object(P.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(_.b),r.Wb(g.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ht(t,e){if(1&t&&(r.Sb(0,"div",26),r.Sb(1,"mat-card"),r.Sb(2,"mat-card-content"),r.Sb(3,"div",27),r.Sb(4,"label"),r.Bc(5,"Creado por"),r.Rb(),r.Nb(6,"input",28),r.Rb(),r.Sb(7,"div",27),r.Nb(8,"input",29),r.Rb(),r.Sb(9,"div",27),r.Nb(10,"input",30),r.Rb(),r.Sb(11,"div",27),r.Sb(12,"label"),r.Bc(13,"Fecha creacion"),r.Rb(),r.Nb(14,"input",31),r.ec(15,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.dc();r.Bb(6),r.lc("value","",t.data.usuario.nombre," ",t.data.usuario.apellidos,""),r.Bb(2),r.jc("value",t.data.usuario.usuario),r.Bb(2),r.jc("value",t.data.usuario.telefono),r.Bb(4),r.jc("value",r.fc(15,5,t.data.createAt))}}function St(t,e){1&t&&r.Nb(0,"mat-spinner",32)}function Rt(t,e){if(1&t&&(r.Sb(0,"span"),r.Bc(1),r.Rb()),2&t){const t=r.dc();r.Bb(1),r.Cc(t.title)}}const gt=function(t){return{row:t}},vt=function(t){return{"col-sm-7":t}};let Bt=(()=>{class t{constructor(t,e,a,i,n){this.fb=t,this.colaboradorService=e,this.snack=a,this.dialogRef=i,this.data=n,this.title="Registro",this.forma=this.fb.group({nombre:[this.data.nombre,o.n.required],apellidos:[this.data.apellidos],direccion:[this.data.direccion],telefono:[this.data.telefono],role:[this.data.role||"AUX_RUTA",o.n.required]})}ngOnInit(){this.data._id&&(this.title="Actualizar")}saveData(){if(!this.forma.valid)return this.snack.open("Favor de rellenar los compos!","Ok");this.isLoading=!0,this.data._id?(this.forma.value._id=this.data._id,this.colaboradorService.updateElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):this.colaboradorService.addElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.d),r.Mb(pt),r.Mb(F.b),r.Mb(j.h),r.Mb(j.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-colaborador-modal"]],decls:52,vars:13,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[3,"ngClass"],[1,"row"],[1,"col-sm-6"],[1,"w-100"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellidos"],["matInput","","formControlName","direccion"],["matInput","","formControlName","telefono"],["matInput","","formControlName","role"],["value","ADMINISTRATIVO"],["value","VENDEDOR"],["value","RECIBO"],["value","CHOFER"],["value","AUX_ALMACEN"],["value","AUX_RUTA"],["value","CHECADOR"],["value","SUPERVISOR"],["class","col-sm-5",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"col-sm-5"],[1,"form-group"],["readonly","","placeholder","Nombre",1,"form-control",3,"value"],["readonly","","placeholder","Usuario",1,"form-control",3,"value"],["readonly","","placeholder","Telefono",1,"form-control",3,"value"],["readonly","","placeholder","Fecha creacion",1,"form-control",3,"value"],[1,"mx-auto","my-1"]],template:function(t,e){1&t&&(r.Sb(0,"form",0),r.Zb("ngSubmit",(function(){return e.saveData()})),r.Sb(1,"h2",1),r.Bc(2),r.Rb(),r.Sb(3,"mat-dialog-content",2),r.Sb(4,"div",3),r.Sb(5,"div",3),r.Sb(6,"div",4),r.Sb(7,"div",5),r.Sb(8,"mat-form-field",6),r.Sb(9,"mat-label"),r.Bc(10,"Nombre"),r.Rb(),r.Nb(11,"input",7),r.Rb(),r.Rb(),r.Sb(12,"div",5),r.Sb(13,"mat-form-field",6),r.Sb(14,"mat-label"),r.Bc(15,"Apellidos"),r.Rb(),r.Nb(16,"input",8),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"mat-form-field",6),r.Sb(18,"mat-label"),r.Bc(19,"Direccion"),r.Rb(),r.Nb(20,"input",9),r.Rb(),r.Sb(21,"mat-form-field",6),r.Sb(22,"mat-label"),r.Bc(23,"Telefono"),r.Rb(),r.Nb(24,"input",10),r.Rb(),r.Sb(25,"mat-form-field",6),r.Sb(26,"mat-label"),r.Bc(27,"Elija un area designada"),r.Rb(),r.Sb(28,"mat-select",11),r.Sb(29,"mat-option",12),r.Bc(30,"Administrador"),r.Rb(),r.Sb(31,"mat-option",13),r.Bc(32,"Vendedor"),r.Rb(),r.Sb(33,"mat-option",14),r.Bc(34,"Recepcion"),r.Rb(),r.Sb(35,"mat-option",15),r.Bc(36,"Chofer"),r.Rb(),r.Sb(37,"mat-option",16),r.Bc(38,"Auxiliar almacen"),r.Rb(),r.Sb(39,"mat-option",17),r.Bc(40,"Auxiliar ruta"),r.Rb(),r.Sb(41,"mat-option",18),r.Bc(42,"Checador"),r.Rb(),r.Sb(43,"mat-option",19),r.Bc(44,"Supervisor"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ac(45,ht,16,7,"div",20),r.Rb(),r.Rb(),r.Sb(46,"mat-dialog-actions",21),r.Sb(47,"button",22),r.Bc(48,"Cancelar"),r.Rb(),r.Sb(49,"button",23),r.Ac(50,St,1,0,"mat-spinner",24),r.Ac(51,Rt,2,1,"span",25),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.ic("formGroup",e.forma),r.Bb(2),r.Cc(e.title),r.Bb(2),r.ic("ngClass",r.nc(9,gt,e.data.usuario)),r.Bb(1),r.ic("ngClass",r.nc(11,vt,e.data.usuario)),r.Bb(40),r.ic("ngIf",e.data.usuario),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(1),r.ic("ngIf",e.isLoading),r.Bb(1),r.ic("ngIf",!e.isLoading))},directives:[o.o,o.k,o.f,j.i,j.f,i.k,$.c,$.f,G.b,o.c,o.j,o.e,H.a,k.l,i.m,j.d,B.a,j.e,W.a,W.b,q.d],pipes:[i.f],encapsulation:2}),t})();function wt(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Nombre. "),r.Rb())}function Ct(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Ec(" ",t.nombre," ",t.apellidos," ")}}function yt(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Telefon "),r.Rb())}function At(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.telefono," ")}}function Dt(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Estado "),r.Rb())}function kt(t,e){1&t&&(r.Sb(0,"td",14),r.Sb(1,"mat-icon",15),r.Bc(2,"person"),r.Rb(),r.Rb())}function Ot(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Rol "),r.Rb())}function It(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.role," ")}}function Nt(t,e){1&t&&r.Nb(0,"th",13)}function Lt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"td",14),r.Sb(1,"button",16),r.Zb("click",(function(){r.sc(t);const a=e.$implicit;return r.dc().openDialog(a)})),r.Sb(2,"mat-icon"),r.Bc(3,"edit"),r.Rb(),r.Rb(),r.Sb(4,"button",17),r.Sb(5,"mat-icon"),r.Bc(6,"delete"),r.Rb(),r.Rb(),r.Rb()}}function xt(t,e){1&t&&r.Nb(0,"tr",18)}function Et(t,e){1&t&&r.Nb(0,"tr",19)}function jt(t,e){1&t&&(r.Sb(0,"div",20),r.Nb(1,"mat-spinner"),r.Rb())}let _t=(()=>{class t{constructor(t,e){this.dialog=t,this.colaboradorService=e,this.displayColumns=["nombre","telefono","status","role","actions"]}ngOnInit(){this.getAll()}getAll(){return this.colaboradorService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(Bt,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(j.c),r.Mb(pt))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-colaboradores"]],decls:30,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","telefono"],["matColumnDef","status"],["matColumnDef","role"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["color","primary"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.Bc(3,"Colaboradores"),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.Bc(5,"Colaboradores actuales"),r.Rb(),r.Rb(),r.Sb(6,"div",0),r.Sb(7,"button",1),r.Zb("click",(function(){return e.openDialog()})),r.Sb(8,"mat-icon"),r.Bc(9,"add"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"mat-card-content"),r.Sb(11,"table",2),r.Qb(12,3),r.Ac(13,wt,2,0,"th",4),r.Ac(14,Ct,2,2,"td",5),r.Pb(),r.Qb(15,6),r.Ac(16,yt,2,0,"th",4),r.Ac(17,At,2,1,"td",5),r.Pb(),r.Qb(18,7),r.Ac(19,Dt,2,0,"th",4),r.Ac(20,kt,3,0,"td",5),r.Pb(),r.Qb(21,8),r.Ac(22,Ot,2,0,"th",4),r.Ac(23,It,2,1,"td",5),r.Pb(),r.Qb(24,9),r.Ac(25,Nt,1,0,"th",4),r.Ac(26,Lt,7,0,"td",5),r.Pb(),r.Ac(27,xt,1,0,"tr",10),r.Ac(28,Et,1,0,"tr",11),r.Rb(),r.Ac(29,jt,2,0,"div",12),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.ic("dataSource",e.data),r.Bb(16),r.ic("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),r.Bb(1),r.ic("matRowDefColumns",e.displayColumns),r.Bb(1),r.ic("ngIf",!e.data))},directives:[W.a,W.c,W.f,W.e,B.a,w.a,W.b,Z.j,J,Z.c,Z.e,Z.b,Z.g,Z.i,i.m,Z.d,Z.a,Z.f,Z.h,q.d],encapsulation:2}),t})();function Pt(t,e){1&t&&(r.Sb(0,"span"),r.Bc(1,"Actualizar datos"),r.Rb())}function Mt(t,e){1&t&&r.Nb(0,"mat-progress-spinner",21)}let Tt=(()=>{class t{constructor(t,e){this.fb=t,this.authService=e}ngOnInit(){this.user=this.authService.currentUser,this.forma=this.fb.group({nombre:[this.user.nombre,o.n.required],apellidos:[this.user.apellidos],direccion:[this.user.direccion],telefono:[this.user.telefono],usuario:[this.user.usuario,o.n.required],email:[this.user.email],password:[],create_at:{value:this.user.createAt,disabled:!0}})}actualizar(){this.isLoading=!0,this.authService.updateProfile(this.forma.value).subscribe(()=>this.isLoading=!1,()=>this.isLoading=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.d),r.Mb(g.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-perfil"]],decls:69,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],[1,"w-100"],["matInput","","formControlName","nombre"],["matSuffix",""],["matInput","","formControlName","apellidos"],[1,"col-md-8"],["matInput","","formControlName","direccion"],[1,"col-md-4"],["matInput","","formControlName","telefono"],[1,"col-md-5"],["matInput","","formControlName","usuario"],[1,"col-md-7"],["matInput","","formControlName","email"],["matInput","","formControlName","password","type","password"],["matInput","","formControlName","create_at"],[1,"d-flex","justify-content-end"],["mat-raised-button","","color","primary","type","submit",2,"min-width","200px",3,"disabled"],[4,"ngIf"],["mode","indeterminate","diameter","28","strokeWidth","5","class","mx-auto my-1",4,"ngIf"],["mode","indeterminate","diameter","28","strokeWidth","5",1,"mx-auto","my-1"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.Bc(3,"Perfil"),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.Bc(5,"Datos personales"),r.Rb(),r.Rb(),r.Sb(6,"mat-card-content"),r.Sb(7,"form",0),r.Zb("ngSubmit",(function(){return e.actualizar()})),r.Sb(8,"div",1),r.Sb(9,"div",2),r.Sb(10,"mat-form-field",3),r.Sb(11,"mat-label"),r.Bc(12,"Nombre *"),r.Rb(),r.Nb(13,"input",4),r.Sb(14,"mat-icon",5),r.Bc(15,"person"),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"div",2),r.Sb(17,"mat-form-field",3),r.Sb(18,"mat-label"),r.Bc(19,"Apellidos"),r.Rb(),r.Nb(20,"input",6),r.Sb(21,"mat-icon",5),r.Bc(22,"person"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(23,"div",1),r.Sb(24,"div",7),r.Sb(25,"mat-form-field",3),r.Sb(26,"mat-label"),r.Bc(27,"Direccion"),r.Rb(),r.Nb(28,"input",8),r.Sb(29,"mat-icon",5),r.Bc(30,"place"),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"div",9),r.Sb(32,"mat-form-field",3),r.Sb(33,"mat-label"),r.Bc(34,"Telefono"),r.Rb(),r.Nb(35,"input",10),r.Sb(36,"mat-icon",5),r.Bc(37,"phone"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(38,"div",1),r.Sb(39,"div",11),r.Sb(40,"mat-form-field",3),r.Sb(41,"mat-label"),r.Bc(42,"Usuario *"),r.Rb(),r.Nb(43,"input",12),r.Sb(44,"mat-icon",5),r.Bc(45,"lock"),r.Rb(),r.Rb(),r.Rb(),r.Sb(46,"div",13),r.Sb(47,"mat-form-field",3),r.Sb(48,"mat-label"),r.Bc(49,"Correo *"),r.Rb(),r.Nb(50,"input",14),r.Sb(51,"mat-icon",5),r.Bc(52,"mail"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(53,"mat-form-field",3),r.Sb(54,"mat-label"),r.Bc(55,"Ingrese una nueva contrase\xf1a"),r.Rb(),r.Nb(56,"input",15),r.Sb(57,"mat-icon",5),r.Bc(58,"lock"),r.Rb(),r.Rb(),r.Sb(59,"mat-form-field",3),r.Sb(60,"mat-label"),r.Bc(61,"Antig\xfcedad"),r.Rb(),r.Nb(62,"input",16),r.Sb(63,"mat-icon",5),r.Bc(64,"event_note"),r.Rb(),r.Rb(),r.Sb(65,"div",17),r.Sb(66,"button",18),r.Ac(67,Pt,2,0,"span",19),r.Ac(68,Mt,1,0,"mat-progress-spinner",20),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(7),r.ic("formGroup",e.forma),r.Bb(59),r.ic("disabled",e.isLoading),r.Bb(1),r.ic("ngIf",!e.isLoading),r.Bb(1),r.ic("ngIf",e.isLoading))},directives:[W.a,W.c,W.f,W.e,W.b,o.o,o.k,o.f,$.c,$.f,G.b,o.c,o.j,o.e,w.a,$.g,B.a,i.m,q.b],encapsulation:2}),t})(),Ft=(()=>{class t{constructor(t,e){this.http=t,this.authService=e,this.api=M.a.api}addElement(t){return this.http.post(this.api+"/ruta?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}getAll(){return this.http.get(this.api+"/ruta?token="+this.authService.token).pipe(Object(P.a)(t=>t.data))}updateElement(t){return this.http.put(this.api+"/ruta/"+t._id+"?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(_.b),r.Wb(g.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $t(t,e){if(1&t&&(r.Sb(0,"div",20),r.Sb(1,"mat-card"),r.Sb(2,"mat-card-content"),r.Sb(3,"div",21),r.Sb(4,"label"),r.Bc(5,"Creado por"),r.Rb(),r.Nb(6,"input",22),r.Rb(),r.Sb(7,"div",21),r.Nb(8,"input",23),r.Rb(),r.Sb(9,"div",21),r.Nb(10,"input",24),r.Rb(),r.Sb(11,"div",21),r.Sb(12,"label"),r.Bc(13,"Fecha creacion"),r.Rb(),r.Nb(14,"input",25),r.ec(15,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.dc();r.Bb(6),r.lc("value","",t.data.usuario.nombre," ",t.data.usuario.apellidos,""),r.Bb(2),r.jc("value",t.data.usuario.usuario),r.Bb(2),r.jc("value",t.data.usuario.telefono),r.Bb(4),r.jc("value",r.fc(15,5,t.data.createAt))}}function Gt(t,e){1&t&&r.Nb(0,"mat-spinner",26)}function Ht(t,e){1&t&&(r.Sb(0,"span"),r.Bc(1,"Guardar"),r.Rb())}const qt=function(t){return{row:t}},Ut=function(t){return{"col-sm-7":t}};let Qt=(()=>{class t{constructor(t,e,a,i,n){this.fb=t,this.rutaService=e,this.snack=a,this.dialogRef=i,this.data=n,this.forma=this.fb.group({clave:[this.data.clave,o.n.required],nombre:[this.data.nombre],subrutas:[this.data.subrutas],tipo_ruta:[this.data.tipo_ruta||"RUTA"]})}ngOnInit(){}saveData(){if(this.forma.invalid)return this.snack.open("Favor de llenar los campos obligatorios!","Ok");this.data._id?(this.isLoading=!0,this.forma.value._id=this.data._id,this.rutaService.updateElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):(this.isLoading=!0,this.rutaService.addElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.d),r.Mb(Ft),r.Mb(F.b),r.Mb(j.h),r.Mb(j.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-ruta-modal"]],decls:39,vars:12,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[3,"ngClass"],[1,"w-100"],["matInput","","formControlName","clave"],["matInput","","formControlName","nombre"],["matInput","","formControlName","subrutas"],["matInput","","formControlName","tipo_ruta"],["value","RUTA"],["value","AUTOSERVICIO"],["value","FALTANTE"],["value","RUTA_BORDO"],["value","ESPECIAL"],["class","col-sm-5",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"col-sm-5"],[1,"form-group"],["readonly","","placeholder","Nombre",1,"form-control",3,"value"],["readonly","","placeholder","Usuario",1,"form-control",3,"value"],["readonly","","placeholder","Telefono",1,"form-control",3,"value"],["readonly","","placeholder","Fecha creacion",1,"form-control",3,"value"],[1,"mx-auto","my-1"]],template:function(t,e){1&t&&(r.Sb(0,"form",0),r.Zb("ngSubmit",(function(){return e.saveData()})),r.Sb(1,"h2",1),r.Bc(2,"Informacion de ruta"),r.Rb(),r.Sb(3,"mat-dialog-content",2),r.Sb(4,"div",3),r.Sb(5,"div",3),r.Sb(6,"mat-form-field",4),r.Sb(7,"mat-label"),r.Bc(8,"Clave ruta *"),r.Rb(),r.Nb(9,"input",5),r.Rb(),r.Sb(10,"mat-form-field",4),r.Sb(11,"mat-label"),r.Bc(12,"Nombre"),r.Rb(),r.Nb(13,"input",6),r.Rb(),r.Sb(14,"mat-form-field",4),r.Sb(15,"mat-label"),r.Bc(16,"Subrutas"),r.Rb(),r.Nb(17,"input",7),r.Rb(),r.Sb(18,"mat-form-field",4),r.Sb(19,"mat-label"),r.Bc(20,"Elija un tipo de ruta"),r.Rb(),r.Sb(21,"mat-select",8),r.Sb(22,"mat-option",9),r.Bc(23,"Ruta"),r.Rb(),r.Sb(24,"mat-option",10),r.Bc(25,"Venta autoservicio"),r.Rb(),r.Sb(26,"mat-option",11),r.Bc(27,"Faltante de inventario"),r.Rb(),r.Sb(28,"mat-option",12),r.Bc(29,"Ruta a bordo"),r.Rb(),r.Sb(30,"mat-option",13),r.Bc(31,"Venta especial"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ac(32,$t,16,7,"div",14),r.Rb(),r.Rb(),r.Sb(33,"mat-dialog-actions",15),r.Sb(34,"button",16),r.Bc(35,"Cancelar"),r.Rb(),r.Sb(36,"button",17),r.Ac(37,Gt,1,0,"mat-spinner",18),r.Ac(38,Ht,2,0,"span",19),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.ic("formGroup",e.forma),r.Bb(4),r.ic("ngClass",r.nc(8,qt,e.data.usuario)),r.Bb(1),r.ic("ngClass",r.nc(10,Ut,e.data.usuario)),r.Bb(27),r.ic("ngIf",e.data.usuario),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(1),r.ic("ngIf",e.isLoading),r.Bb(1),r.ic("ngIf",!e.isLoading))},directives:[o.o,o.k,o.f,j.i,j.f,i.k,$.c,$.f,G.b,o.c,o.j,o.e,H.a,k.l,i.m,j.d,B.a,j.e,W.a,W.b,q.d],pipes:[i.f],encapsulation:2}),t})();function Vt(t,e){1&t&&(r.Sb(0,"th",12),r.Bc(1," Clave. "),r.Rb())}function Wt(t,e){if(1&t&&(r.Sb(0,"td",13),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.clave," ")}}function Zt(t,e){1&t&&(r.Sb(0,"th",12),r.Bc(1," Nombre "),r.Rb())}function zt(t,e){if(1&t&&(r.Sb(0,"td",13),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.nombre," ")}}function Kt(t,e){1&t&&(r.Sb(0,"th",12),r.Bc(1," Tipo ruta "),r.Rb())}function Xt(t,e){if(1&t&&(r.Sb(0,"td",13),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.tipo_ruta," ")}}function Jt(t,e){1&t&&r.Nb(0,"th",12)}function Yt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"td",13),r.Sb(1,"button",14),r.Zb("click",(function(){r.sc(t);const a=e.$implicit;return r.dc().openDialog(a)})),r.Sb(2,"mat-icon"),r.Bc(3,"edit"),r.Rb(),r.Rb(),r.Sb(4,"button",15),r.Sb(5,"mat-icon"),r.Bc(6,"delete"),r.Rb(),r.Rb(),r.Rb()}}function te(t,e){1&t&&r.Nb(0,"tr",16)}function ee(t,e){1&t&&r.Nb(0,"tr",17)}function ae(t,e){1&t&&(r.Sb(0,"div",18),r.Nb(1,"mat-spinner"),r.Rb())}let ie=(()=>{class t{constructor(t,e){this.rutaService=t,this.dialog=e,this.displayColumns=["clave","nombre","tipo_ruta","actions"]}ngOnInit(){this.getAll()}getAll(){return this.rutaService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(Qt,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ft),r.Mb(j.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-rutas"]],decls:27,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","clave"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","tipo_ruta"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.Bc(3,"Rutas"),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.Bc(5,"Registro de rutas"),r.Rb(),r.Rb(),r.Sb(6,"div",0),r.Sb(7,"button",1),r.Zb("click",(function(){return e.openDialog()})),r.Sb(8,"mat-icon"),r.Bc(9,"add"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"mat-card-content"),r.Sb(11,"table",2),r.Qb(12,3),r.Ac(13,Vt,2,0,"th",4),r.Ac(14,Wt,2,1,"td",5),r.Pb(),r.Qb(15,6),r.Ac(16,Zt,2,0,"th",4),r.Ac(17,zt,2,1,"td",5),r.Pb(),r.Qb(18,7),r.Ac(19,Kt,2,0,"th",4),r.Ac(20,Xt,2,1,"td",5),r.Pb(),r.Qb(21,8),r.Ac(22,Jt,1,0,"th",4),r.Ac(23,Yt,7,0,"td",5),r.Pb(),r.Ac(24,te,1,0,"tr",9),r.Ac(25,ee,1,0,"tr",10),r.Rb(),r.Ac(26,ae,2,0,"div",11),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.ic("dataSource",e.data),r.Bb(13),r.ic("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),r.Bb(1),r.ic("matRowDefColumns",e.displayColumns),r.Bb(1),r.ic("ngIf",!e.data))},directives:[W.a,W.c,W.f,W.e,B.a,w.a,W.b,Z.j,J,Z.c,Z.e,Z.b,Z.g,Z.i,i.m,Z.d,Z.a,Z.f,Z.h,q.d],encapsulation:2}),t})(),oe=(()=>{class t{constructor(t,e){this.http=t,this.authService=e,this.api=M.a.api}addElement(t){return this.http.post(this.api+"/flota?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}getAll(){return this.http.get(this.api+"/flota?token="+this.authService.token).pipe(Object(P.a)(t=>t.data))}updateElement(t){return this.http.put(this.api+"/flota/"+t._id+"?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(_.b),r.Wb(g.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ne(t,e){if(1&t&&(r.Sb(0,"div",23),r.Sb(1,"mat-card"),r.Sb(2,"mat-card-content"),r.Sb(3,"div",24),r.Sb(4,"label"),r.Bc(5,"Creado por"),r.Rb(),r.Nb(6,"input",25),r.Rb(),r.Sb(7,"div",24),r.Nb(8,"input",26),r.Rb(),r.Sb(9,"div",24),r.Nb(10,"input",27),r.Rb(),r.Sb(11,"div",24),r.Sb(12,"label"),r.Bc(13,"Fecha creacion"),r.Rb(),r.Nb(14,"input",28),r.ec(15,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.dc();r.Bb(6),r.lc("value","",t.data.usuario.nombre," ",t.data.usuario.apellidos,""),r.Bb(2),r.jc("value",t.data.usuario.usuario),r.Bb(2),r.jc("value",t.data.usuario.telefono),r.Bb(4),r.jc("value",r.fc(15,5,t.data.createAt))}}function re(t,e){1&t&&r.Nb(0,"mat-spinner",29)}function ce(t,e){1&t&&(r.Sb(0,"span"),r.Bc(1,"Guardar"),r.Rb())}const se=function(t){return{row:t}},be=function(t){return{"col-sm-7":t}};let le=(()=>{class t{constructor(t,e,a,i,n){this.fb=t,this.flotaService=e,this.snack=a,this.dialogRef=i,this.data=n,this.forma=this.fb.group({clave:[this.data.clave,o.n.required],placa:[this.data.placa],anio:[this.data.anio],capacidad:[this.data.capacidad],tipo:[this.data.tipo||"FORD"]})}ngOnInit(){}saveData(){if(this.forma.invalid)return this.snack.open("Favor de llenar los campos obligatorios!","Ok");this.data._id?(this.isLoading=!0,this.forma.value._id=this.data._id,this.flotaService.updateElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):(this.isLoading=!0,this.flotaService.addElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.d),r.Mb(oe),r.Mb(F.b),r.Mb(j.h),r.Mb(j.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-flota-modal"]],decls:46,vars:12,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[3,"ngClass"],[1,"w-100"],["matInput","","formControlName","clave"],[1,"row"],[1,"col-sm-6"],["matInput","","formControlName","placa"],["matInput","","formControlName","anio"],["matInput","","formControlName","capacidad"],["matInput","","formControlName","tipo"],["value","FORD"],["value","NISSAN"],["value","HINNO CHICA"],["value","HINNO GRANDE"],["value","CAMION"],["class","col-sm-5",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"col-sm-5"],[1,"form-group"],["readonly","","placeholder","Nombre",1,"form-control",3,"value"],["readonly","","placeholder","Usuario",1,"form-control",3,"value"],["readonly","","placeholder","Telefono",1,"form-control",3,"value"],["readonly","","placeholder","Fecha creacion",1,"form-control",3,"value"],[1,"mx-auto","my-1"]],template:function(t,e){1&t&&(r.Sb(0,"form",0),r.Zb("ngSubmit",(function(){return e.saveData()})),r.Sb(1,"h2",1),r.Bc(2,"Informacion unidad"),r.Rb(),r.Sb(3,"mat-dialog-content",2),r.Sb(4,"div",3),r.Sb(5,"div",3),r.Sb(6,"mat-form-field",4),r.Sb(7,"mat-label"),r.Bc(8,"Numero interno *"),r.Rb(),r.Nb(9,"input",5),r.Rb(),r.Sb(10,"div",6),r.Sb(11,"div",7),r.Sb(12,"mat-form-field",4),r.Sb(13,"mat-label"),r.Bc(14,"Placa"),r.Rb(),r.Nb(15,"input",8),r.Rb(),r.Rb(),r.Sb(16,"div",7),r.Sb(17,"mat-form-field",4),r.Sb(18,"mat-label"),r.Bc(19,"A\xf1o"),r.Rb(),r.Nb(20,"input",9),r.Rb(),r.Rb(),r.Rb(),r.Sb(21,"mat-form-field",4),r.Sb(22,"mat-label"),r.Bc(23,"Capacidad de carga"),r.Rb(),r.Nb(24,"input",10),r.Rb(),r.Sb(25,"mat-form-field",4),r.Sb(26,"mat-label"),r.Bc(27,"Elija un tipo de unidad"),r.Rb(),r.Sb(28,"mat-select",11),r.Sb(29,"mat-option",12),r.Bc(30,"Ford"),r.Rb(),r.Sb(31,"mat-option",13),r.Bc(32,"Nissan"),r.Rb(),r.Sb(33,"mat-option",14),r.Bc(34,"Hinno caja chica"),r.Rb(),r.Sb(35,"mat-option",15),r.Bc(36,"Hinno caja grande"),r.Rb(),r.Sb(37,"mat-option",16),r.Bc(38,"Camion"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ac(39,ne,16,7,"div",17),r.Rb(),r.Rb(),r.Sb(40,"mat-dialog-actions",18),r.Sb(41,"button",19),r.Bc(42,"Cancelar"),r.Rb(),r.Sb(43,"button",20),r.Ac(44,re,1,0,"mat-spinner",21),r.Ac(45,ce,2,0,"span",22),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.ic("formGroup",e.forma),r.Bb(4),r.ic("ngClass",r.nc(8,se,e.data.usuario)),r.Bb(1),r.ic("ngClass",r.nc(10,be,e.data.usuario)),r.Bb(34),r.ic("ngIf",e.data.usuario),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(1),r.ic("ngIf",e.isLoading),r.Bb(1),r.ic("ngIf",!e.isLoading))},directives:[o.o,o.k,o.f,j.i,j.f,i.k,$.c,$.f,G.b,o.c,o.j,o.e,H.a,k.l,i.m,j.d,B.a,j.e,W.a,W.b,q.d],pipes:[i.f],encapsulation:2}),t})();function de(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Clave "),r.Rb())}function ue(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.clave," ")}}function me(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Placa "),r.Rb())}function fe(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.placa," ")}}function pe(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Capacidad "),r.Rb())}function he(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.capacidad," ")}}function Se(t,e){1&t&&(r.Sb(0,"th",13),r.Bc(1," Tipo unidad "),r.Rb())}function Re(t,e){if(1&t&&(r.Sb(0,"td",14),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.tipo," ")}}function ge(t,e){1&t&&r.Nb(0,"th",13)}function ve(t,e){if(1&t){const t=r.Tb();r.Sb(0,"td",14),r.Sb(1,"button",15),r.Zb("click",(function(){r.sc(t);const a=e.$implicit;return r.dc().openDialog(a)})),r.Sb(2,"mat-icon"),r.Bc(3,"edit"),r.Rb(),r.Rb(),r.Sb(4,"button",16),r.Sb(5,"mat-icon"),r.Bc(6,"delete"),r.Rb(),r.Rb(),r.Rb()}}function Be(t,e){1&t&&r.Nb(0,"tr",17)}function we(t,e){1&t&&r.Nb(0,"tr",18)}function Ce(t,e){1&t&&(r.Sb(0,"div",19),r.Nb(1,"mat-spinner"),r.Rb())}let ye=(()=>{class t{constructor(t,e){this.flotaService=t,this.dialog=e,this.displayColumns=["clave","placa","capacidad","tipo","actions"]}ngOnInit(){this.getAll()}getAll(){return this.flotaService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(le,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(oe),r.Mb(j.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-flota"]],decls:30,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","clave"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","placa"],["matColumnDef","capacidad"],["matColumnDef","tipo"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.Bc(3,"Flota"),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.Bc(5,"Registro de unidades"),r.Rb(),r.Rb(),r.Sb(6,"div",0),r.Sb(7,"button",1),r.Zb("click",(function(){return e.openDialog()})),r.Sb(8,"mat-icon"),r.Bc(9,"add"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"mat-card-content"),r.Sb(11,"table",2),r.Qb(12,3),r.Ac(13,de,2,0,"th",4),r.Ac(14,ue,2,1,"td",5),r.Pb(),r.Qb(15,6),r.Ac(16,me,2,0,"th",4),r.Ac(17,fe,2,1,"td",5),r.Pb(),r.Qb(18,7),r.Ac(19,pe,2,0,"th",4),r.Ac(20,he,2,1,"td",5),r.Pb(),r.Qb(21,8),r.Ac(22,Se,2,0,"th",4),r.Ac(23,Re,2,1,"td",5),r.Pb(),r.Qb(24,9),r.Ac(25,ge,1,0,"th",4),r.Ac(26,ve,7,0,"td",5),r.Pb(),r.Ac(27,Be,1,0,"tr",10),r.Ac(28,we,1,0,"tr",11),r.Rb(),r.Ac(29,Ce,2,0,"div",12),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.ic("dataSource",e.data),r.Bb(16),r.ic("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),r.Bb(1),r.ic("matRowDefColumns",e.displayColumns),r.Bb(1),r.ic("ngIf",!e.data))},directives:[W.a,W.c,W.f,W.e,B.a,w.a,W.b,Z.j,J,Z.c,Z.e,Z.b,Z.g,Z.i,i.m,Z.d,Z.a,Z.f,Z.h,q.d],encapsulation:2}),t})();var Ae=a("wd/R");let De=(()=>{class t{constructor(t,e){this.http=t,this.authService=e,this.api=M.a.api}addElement(t){return this.http.post(this.api+"/embarque?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}getAll(){return this.http.get(this.api+"/embarque?token="+this.authService.token).pipe(Object(P.a)(t=>{var e=[];return t.data.forEach(t=>{t.isDelete||e.push(t)}),"ROOT_ROLE"===this.authService.currentUser.role?t.data:e}))}updateElement(t){return this.http.put(this.api+"/embarque/"+t._id+"?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}deleteElement(t){return"ROOT_ROLE"===this.authService.currentUser.role?this.http.delete(this.api+"/embarque/"+t._id+"?token="+this.authService.token).pipe(Object(P.a)(t=>t.data)):this.http.put(this.api+"/embarque/delete/"+t._id+"?token="+this.authService.token,t).pipe(Object(P.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(_.b),r.Wb(g.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ke=a("iadO");function Oe(t,e){if(1&t&&(r.Sb(0,"mat-option",28),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.ic("value",t._id)("hidden","CHOFER"!==t.role),r.Bb(1),r.Ec(" ",t.nombre," ",t.apellidos," ")}}function Ie(t,e){if(1&t&&(r.Sb(0,"mat-option",28),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.ic("value",t._id)("hidden","AUX_RUTA"!==t.role),r.Bb(1),r.Ec(" ",t.nombre," ",t.apellidos," ")}}function Ne(t,e){if(1&t&&(r.Sb(0,"mat-option",28),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.ic("value",t._id)("hidden","CHECADOR"!==t.role),r.Bb(1),r.Ec(" ",t.nombre," ",t.apellidos," ")}}function Le(t,e){if(1&t&&(r.Sb(0,"mat-option",29),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.ic("value",t._id),r.Bb(1),r.Dc(" ",t.nombre," ")}}function xe(t,e){if(1&t&&(r.Sb(0,"mat-option",29),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.ic("value",t._id),r.Bb(1),r.Dc(" ",t.clave," ")}}function Ee(t,e){1&t&&r.Nb(0,"mat-spinner",30)}function je(t,e){1&t&&(r.Sb(0,"span"),r.Bc(1,"Guardar"),r.Rb())}const _e=Ae;let Pe=(()=>{class t{constructor(t,e,a,i,n,r,c,s){this.fb=t,this.embarqueService=e,this.colaboradorService=a,this.rutaService=i,this.flotaService=n,this.snack=r,this.dialogRef=c,this.data=s,this.colaboradores=[{}],this.rutas=[{}],this.flotas=[{}],this.forma=this.fb.group({folio:[this.data.folio,o.n.required],chofer:[this.data.chofer._id,o.n.required],auxiliar:[this.data.auxiliar._id,o.n.required],supervisor:[this.data.supervisor._id,o.n.required],ruta:[this.data.ruta._id,o.n.required],unidad:[this.data.unidad._id,o.n.required],peso:[this.data.peso],importe:[this.data.importe],fecha_embarque:[_e(this.data.fecha_embarque).toISOString()],fecha_entrega:[_e(this.data.fecha_entrega).toISOString()]})}ngOnInit(){this.colaboradorService.getAll().subscribe(t=>this.colaboradores=t),this.rutaService.getAll().subscribe(t=>this.rutas=t),this.flotaService.getAll().subscribe(t=>this.flotas=t)}saveData(){if(this.forma.invalid)return this.snack.open("Favor de llenar los campos obligatorios!","Ok");this.data._id?(this.isLoading=!0,this.forma.value._id=this.data._id,this.embarqueService.updateElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):(this.isLoading=!0,this.embarqueService.addElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.d),r.Mb(De),r.Mb(pt),r.Mb(Ft),r.Mb(oe),r.Mb(F.b),r.Mb(j.h),r.Mb(j.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-embarque-modal"]],decls:74,vars:14,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"w-100"],["matInput","","formControlName","folio"],[1,"row"],[1,"col-sm-4"],["matInput","","formControlName","chofer"],[3,"value","hidden",4,"ngFor","ngForOf"],["matInput","","formControlName","auxiliar"],["matInput","","formControlName","supervisor"],[1,"col-sm-6"],["matInput","","formControlName","ruta"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","unidad"],["matInput","","formControlName","peso"],["matInput","","formControlName","importe"],["color","accent",1,"w-100"],["matInput","","formControlName","fecha_embarque",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","fecha_entrega",3,"matDatepicker"],["picker2",""],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[3,"value","hidden"],[3,"value"],[1,"mx-auto","my-1"]],template:function(t,e){if(1&t&&(r.Sb(0,"form",0),r.Zb("ngSubmit",(function(){return e.saveData()})),r.Sb(1,"h2",1),r.Bc(2,"Informacion de ruta"),r.Rb(),r.Sb(3,"mat-dialog-content",2),r.Sb(4,"mat-form-field",3),r.Sb(5,"mat-label"),r.Bc(6,"Folio *"),r.Rb(),r.Nb(7,"input",4),r.Rb(),r.Sb(8,"div",5),r.Sb(9,"div",6),r.Sb(10,"mat-form-field",3),r.Sb(11,"mat-label"),r.Bc(12,"Chofer*"),r.Rb(),r.Sb(13,"mat-select",7),r.Ac(14,Oe,2,4,"mat-option",8),r.Rb(),r.Rb(),r.Rb(),r.Sb(15,"div",6),r.Sb(16,"mat-form-field",3),r.Sb(17,"mat-label"),r.Bc(18,"Auxiliar*"),r.Rb(),r.Sb(19,"mat-select",9),r.Ac(20,Ie,2,4,"mat-option",8),r.Rb(),r.Rb(),r.Rb(),r.Sb(21,"div",6),r.Sb(22,"mat-form-field",3),r.Sb(23,"mat-label"),r.Bc(24,"Supervisor/Checador*"),r.Rb(),r.Sb(25,"mat-select",10),r.Ac(26,Ne,2,4,"mat-option",8),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(27,"div",5),r.Sb(28,"div",11),r.Sb(29,"mat-form-field",3),r.Sb(30,"mat-label"),r.Bc(31,"Ruta*"),r.Rb(),r.Sb(32,"mat-select",12),r.Ac(33,Le,2,2,"mat-option",13),r.Rb(),r.Rb(),r.Rb(),r.Sb(34,"div",11),r.Sb(35,"mat-form-field",3),r.Sb(36,"mat-label"),r.Bc(37,"Unidad designada*"),r.Rb(),r.Sb(38,"mat-select",14),r.Ac(39,xe,2,2,"mat-option",13),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(40,"div",5),r.Sb(41,"div",11),r.Sb(42,"mat-form-field",3),r.Sb(43,"mat-label"),r.Bc(44,"Peso"),r.Rb(),r.Nb(45,"input",15),r.Rb(),r.Rb(),r.Sb(46,"div",11),r.Sb(47,"mat-form-field",3),r.Sb(48,"mat-label"),r.Bc(49,"Importe"),r.Rb(),r.Nb(50,"input",16),r.Rb(),r.Rb(),r.Rb(),r.Sb(51,"div",5),r.Sb(52,"div",11),r.Sb(53,"mat-form-field",17),r.Sb(54,"mat-label"),r.Bc(55,"Fecha embarque"),r.Rb(),r.Nb(56,"input",18),r.Nb(57,"mat-datepicker-toggle",19),r.Nb(58,"mat-datepicker",null,20),r.Rb(),r.Rb(),r.Sb(60,"div",11),r.Sb(61,"mat-form-field",17),r.Sb(62,"mat-label"),r.Bc(63,"Fecha entrega"),r.Rb(),r.Nb(64,"input",21),r.Nb(65,"mat-datepicker-toggle",19),r.Nb(66,"mat-datepicker",null,22),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(68,"mat-dialog-actions",23),r.Sb(69,"button",24),r.Bc(70,"Cancelar"),r.Rb(),r.Sb(71,"button",25),r.Ac(72,Ee,1,0,"mat-spinner",26),r.Ac(73,je,2,0,"span",27),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.pc(59),a=r.pc(67);r.ic("formGroup",e.forma),r.Bb(14),r.ic("ngForOf",e.colaboradores),r.Bb(6),r.ic("ngForOf",e.colaboradores),r.Bb(6),r.ic("ngForOf",e.colaboradores),r.Bb(7),r.ic("ngForOf",e.rutas),r.Bb(6),r.ic("ngForOf",e.flotas),r.Bb(17),r.ic("matDatepicker",t),r.Bb(1),r.ic("for",t),r.Bb(7),r.ic("matDatepicker",a),r.Bb(1),r.ic("for",a),r.Bb(4),r.ic("disabled",e.isLoading),r.Bb(2),r.ic("disabled",e.isLoading),r.Bb(1),r.ic("ngIf",e.isLoading),r.Bb(1),r.ic("ngIf",!e.isLoading)}},directives:[o.o,o.k,o.f,j.i,j.f,$.c,$.f,G.b,o.c,o.j,o.e,H.a,i.l,ke.b,ke.d,$.g,ke.a,j.d,B.a,j.e,i.m,k.l,q.d],encapsulation:2}),t})();function Me(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1,"Folio. "),r.Rb())}function Te(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.folio," ")}}function Fe(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Chofer "),r.Rb())}function $e(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.chofer.nombre," ")}}function Ge(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Auxliar "),r.Rb())}function He(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.auxiliar.nombre," ")}}function qe(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Supervisor "),r.Rb())}function Ue(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.supervisor.nombre," ")}}function Qe(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Ruta "),r.Rb())}function Ve(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.ruta.nombre," ")}}function We(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Unidad "),r.Rb())}function Ze(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",t.unidad.clave," ")}}function ze(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Peso "),r.Rb())}function Ke(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Ec(" ",t.peso,"",t.isDelete," ")}}function Xe(t,e){1&t&&(r.Sb(0,"th",17),r.Bc(1," Importe "),r.Rb())}function Je(t,e){if(1&t&&(r.Sb(0,"td",18),r.Bc(1),r.ec(2,"currency"),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.Dc(" ",r.fc(2,1,t.importe)," ")}}function Ye(t,e){1&t&&r.Nb(0,"th",17)}function ta(t,e){1&t&&(r.Sb(0,"mat-icon"),r.Bc(1,"person_remove"),r.Rb())}function ea(t,e){if(1&t){const t=r.Tb();r.Sb(0,"td",18),r.Sb(1,"swal",19,20),r.Zb("confirm",(function(){r.sc(t);const a=e.$implicit;return r.dc().delete(a)})),r.Rb(),r.Sb(3,"button",21),r.Zb("click",(function(){r.sc(t);const a=e.$implicit;return r.dc().openDialog(a)})),r.Sb(4,"mat-icon"),r.Bc(5,"edit"),r.Rb(),r.Rb(),r.Sb(6,"button",22),r.Zb("click",(function(){return r.sc(t),r.pc(2).fire()})),r.Sb(7,"mat-icon"),r.Bc(8,"delete"),r.Rb(),r.Rb(),r.Sb(9,"button",23),r.Ac(10,ta,2,0,"mat-icon",24),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.Bb(1),r.kc("title","Eliminar folio ",t.folio,""),r.Bb(9),r.ic("ngIf",t.isDelete)}}function aa(t,e){1&t&&r.Nb(0,"tr",25)}function ia(t,e){1&t&&r.Nb(0,"tr",26)}function oa(t,e){1&t&&(r.Sb(0,"div",27),r.Nb(1,"mat-spinner"),r.Rb())}const na=[{path:"",component:E,children:[{path:"",loadChildren:()=>a.e(4).then(a.bind(null,"/2RN")).then(t=>t.DashboardModule)},{path:"usuarios",component:ft},{path:"colaboradores",component:_t},{path:"rutas",component:ie},{path:"perfil",component:Tt},{path:"flota",component:ye},{path:"embarque",component:(()=>{class t{constructor(t,e){this.embarqueService=t,this.dialog=e,this.displayColumns=["folio","chofer","auxiliar","supervisor","ruta","unidad","peso","importe","actions"],this.temp={usuario:{},chofer:{},auxiliar:{},ruta:{},unidad:{},supervisor:{}}}ngOnInit(){this.getAll()}getAll(){return this.embarqueService.getAll().subscribe(t=>this.data=t)}openDialog(t=this.temp){this.dialog.open(Pe,{data:t}).beforeClosed().subscribe(()=>this.getAll())}delete(t){this.embarqueService.deleteElement(t).subscribe(()=>this.getAll())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(De),r.Mb(j.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-embarque"]],decls:42,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","folio"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chofer"],["matColumnDef","auxiliar"],["matColumnDef","supervisor"],["matColumnDef","ruta"],["matColumnDef","unidad"],["matColumnDef","peso"],["matColumnDef","importe"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["text","esta accion es irreversible!, realmente desea eliminar la informacion?","icon","warning","showCancelButton","true","confirmButtonColor","#dc3545","confirmButtonText","Si, Eliminar","cancelButtonText","Cancelar","focusCancel","true",3,"title","confirm"],["deleteSwal",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","warn"],[4,"ngIf"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card"),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.Bc(3,"Rutas"),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.Bc(5,"Registro de rutas"),r.Rb(),r.Rb(),r.Sb(6,"div",0),r.Sb(7,"button",1),r.Zb("click",(function(){return e.openDialog()})),r.Sb(8,"mat-icon"),r.Bc(9,"add"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"mat-card-content"),r.Sb(11,"table",2),r.Qb(12,3),r.Ac(13,Me,2,0,"th",4),r.Ac(14,Te,2,1,"td",5),r.Pb(),r.Qb(15,6),r.Ac(16,Fe,2,0,"th",4),r.Ac(17,$e,2,1,"td",5),r.Pb(),r.Qb(18,7),r.Ac(19,Ge,2,0,"th",4),r.Ac(20,He,2,1,"td",5),r.Pb(),r.Qb(21,8),r.Ac(22,qe,2,0,"th",4),r.Ac(23,Ue,2,1,"td",5),r.Pb(),r.Qb(24,9),r.Ac(25,Qe,2,0,"th",4),r.Ac(26,Ve,2,1,"td",5),r.Pb(),r.Qb(27,10),r.Ac(28,We,2,0,"th",4),r.Ac(29,Ze,2,1,"td",5),r.Pb(),r.Qb(30,11),r.Ac(31,ze,2,0,"th",4),r.Ac(32,Ke,2,2,"td",5),r.Pb(),r.Qb(33,12),r.Ac(34,Xe,2,0,"th",4),r.Ac(35,Je,3,3,"td",5),r.Pb(),r.Qb(36,13),r.Ac(37,Ye,1,0,"th",4),r.Ac(38,ea,11,2,"td",5),r.Pb(),r.Ac(39,aa,1,0,"tr",14),r.Ac(40,ia,1,0,"tr",15),r.Rb(),r.Ac(41,oa,2,0,"div",16),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.ic("dataSource",e.data),r.Bb(28),r.ic("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),r.Bb(1),r.ic("matRowDefColumns",e.displayColumns),r.Bb(1),r.ic("ngIf",!e.data))},directives:[W.a,W.c,W.f,W.e,B.a,w.a,W.b,Z.j,J,Z.c,Z.e,Z.b,Z.g,Z.i,i.m,Z.d,Z.a,m,Z.f,Z.h,q.d],pipes:[i.d],encapsulation:2}),t})()}]}];let ra=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[R.e.forChild(na)],R.e]}),t})(),ca=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.c,S.a,R.e,o.m]]}),t})(),sa=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.c,h.forRoot(),o.m,ra,ca,S.a]]}),t})()}}]);