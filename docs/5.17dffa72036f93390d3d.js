(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{dgmN:function(t,a,e){"use strict";e.r(a),e.d(a,"PagesModule",(function(){return Sa}));var i=e("ofXK"),o=e("3Pt+"),n=e("hctd"),c=e("tyNb"),b=e("fXoL"),r=e("IYfF"),s=e("/t3+"),l=e("bTqV"),d=e("NFeN"),u=e("STbY"),m=e("XhcP"),f=e("7EHt"),p=e("MutI"),h=e("FKr1");const R=["sidenav"];function S(t,a){if(1&t&&(b.Sb(0,"a",17),b.Sb(1,"mat-icon",18),b.Ac(2),b.Rb(),b.Sb(3,"span",19),b.Ac(4),b.Rb(),b.Rb()),2&t){const t=a.$implicit;b.ic("routerLink",t.url),b.Bb(2),b.Bc(t.icon),b.Bb(2),b.Bc(t.label)}}function v(t,a){if(1&t&&(b.Sb(0,"mat-expansion-panel",14),b.Sb(1,"mat-expansion-panel-header"),b.Sb(2,"mat-panel-title"),b.Sb(3,"mat-icon",15),b.Ac(4),b.Rb(),b.Ac(5),b.Rb(),b.Rb(),b.Sb(6,"mat-nav-list"),b.zc(7,S,5,3,"a",16),b.Rb(),b.Rb()),2&t){const t=a.$implicit;b.ic("disabled",!t.submenu),b.Bb(4),b.Bc(t.icon),b.Bb(1),b.Cc(" ",t.label," "),b.Bb(2),b.ic("ngForOf",t.submenu)}}const g=["*"];let A=(()=>{class t{constructor(t){this.authService=t,this.Menu=[{label:"Administrar",icon:"settings",submenu:[{label:"Usuarios",url:"usuarios",icon:"supervisor_account"},{label:"Colaboradores",url:"colaboradores",icon:"people_outline"},{label:"Ruta",url:"rutas",icon:"alt_route"},{label:"Flota",url:"flota",icon:"local_shipping"}]},{label:"Bitacora",icon:"assignment_turned_in"}],this.opened=!0}ngOnInit(){window.innerWidth<768?(this.sidenav.fixedTopGap=window.innerWidth>600?64:56,this.opened=!1):(this.sidenav.fixedTopGap=64,this.opened=!0)}onResize(t){t.target.innerWidth<768?(this.sidenav.fixedTopGap=t.target.innerWidth>600?64:56,this.opened=!1):(this.sidenav.fixedTopGap=64,this.opened=!0)}isBiggerScreen(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768}salir(){this.authService.signOut()}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(r.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-sidenav"]],viewQuery:function(t,a){var e;1&t&&b.vc(R,!0),2&t&&b.nc(e=b.ac())&&(a.sidenav=e.first)},hostBindings:function(t,a){1&t&&b.Zb("resize",(function(t){return a.onResize(t)}),!1,b.qc)},ngContentSelectors:g,decls:32,vars:5,consts:[["color","primary"],["mat-icon-button","",3,"click"],[1,"ml-auto"],["mat-icon-button","","routerLink","/dashboard"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","routerLink","perfil"],["mat-menu-item","",3,"click"],[1,"example-container","is-dark"],[2,"min-width","250px",3,"mode","opened","fixedInViewport","fixedTopGap","openedChange"],["sidenav",""],["displayMode","flat"],[3,"disabled",4,"ngFor","ngForOf"],[1,"is-light",2,"background-color","#ecf0f5"],[3,"disabled"],[1,"mr-3"],["mat-list-item","","routerLinkActive","active","href","#",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","active","href","#",3,"routerLink"],["matListIcon","",1,"ml-3"],["matLine",""]],template:function(t,a){if(1&t){const t=b.Tb();b.hc(),b.Sb(0,"mat-toolbar",0),b.Sb(1,"button",1),b.Zb("click",(function(){return b.rc(t),b.oc(27).toggle()})),b.Sb(2,"mat-icon"),b.Ac(3,"menu"),b.Rb(),b.Rb(),b.Sb(4,"div"),b.Ac(5,"MyApp"),b.Rb(),b.Sb(6,"div",2),b.Sb(7,"button",3),b.Sb(8,"mat-icon"),b.Ac(9,"dashboard"),b.Rb(),b.Rb(),b.Sb(10,"button",4),b.Sb(11,"mat-icon"),b.Ac(12,"more_vert"),b.Rb(),b.Rb(),b.Sb(13,"mat-menu",null,5),b.Sb(15,"button",6),b.Sb(16,"mat-icon"),b.Ac(17,"person_outline"),b.Rb(),b.Sb(18,"span"),b.Ac(19,"Mi perfil"),b.Rb(),b.Rb(),b.Sb(20,"button",7),b.Zb("click",(function(){return a.salir()})),b.Sb(21,"mat-icon"),b.Ac(22,"exit_to_app"),b.Rb(),b.Sb(23,"span"),b.Ac(24,"Cerrar sesion"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(25,"mat-sidenav-container",8),b.Sb(26,"mat-sidenav",9,10),b.Zb("openedChange",(function(t){return a.opened=t})),b.Sb(28,"mat-accordion",11),b.zc(29,v,8,4,"mat-expansion-panel",12),b.Rb(),b.Rb(),b.Sb(30,"mat-sidenav-content",13),b.gc(31),b.Rb(),b.Rb()}if(2&t){const t=b.oc(14);b.Bb(10),b.ic("matMenuTriggerFor",t),b.Bb(16),b.ic("mode",a.isBiggerScreen()?"over":"side")("opened",a.opened)("fixedInViewport",!0),b.Bb(3),b.ic("ngForOf",a.Menu)}},directives:[s.a,l.a,d.a,c.b,u.c,u.d,u.a,m.b,m.a,f.a,i.k,m.c,f.c,f.d,f.e,p.e,p.c,c.d,c.c,p.b,h.h],styles:[".example-container[_ngcontent-%COMP%] {\n      height: calc(100vh - 64px);\n      .mat-sidenav-content {\n        height: calc(100vh - 64px);\n      }\n    }"]}),t})(),C=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=b.Gb({type:t,selectors:[["app-pages"]],decls:3,vars:0,consts:[[1,"container-fluid","pt-3"]],template:function(t,a){1&t&&(b.Sb(0,"app-sidenav"),b.Sb(1,"div",0),b.Nb(2,"router-outlet"),b.Rb(),b.Rb())},directives:[A,c.f],encapsulation:2}),t})();var y=e("0IaG"),N=e("tk/3"),w=e("lJxs"),I=e("AytR");let k=(()=>{class t{constructor(t,a){this.http=t,this.authUser=a,this.api=I.a.api,this.headers=(new N.d).set("Content-Type","application/json")}getAll(){return this.http.get(this.api+"/usuario?token="+this.authUser.token,{headers:this.headers}).pipe(Object(w.a)(t=>t.data))}addElement(t){}updateElement(t){return this.http.put(this.api+"/usuario/"+t._id+"?token="+this.authUser.token,t,{headers:this.headers}).pipe(Object(w.a)(t=>t.data))}}return t.\u0275fac=function(a){return new(a||t)(b.Wb(N.b),b.Wb(r.a))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var D=e("dNgK"),B=e("kmnG"),z=e("qFsG"),O=e("d3UM"),L=e("Xa2L");function j(t,a){1&t&&b.Nb(0,"mat-spinner",25)}function x(t,a){1&t&&(b.Sb(0,"span"),b.Ac(1,"Guardar"),b.Rb())}let M=(()=>{class t{constructor(t,a,e,i,n){this.fb=t,this.usuarioService=a,this.snack=e,this.dialogRef=i,this.data=n,this.forma=this.fb.group({nombre:[this.data.nombre,o.n.required],apellidos:[this.data.apellidos],direccion:[this.data.direccion],telefono:[this.data.telefono],usuario:[this.data.usuario,o.n.required],password:[],email:[this.data.email],role:[this.data.role||"USER_ROLE",o.n.required]})}ngOnInit(){}saveData(){if(!this.forma.valid)return this.snack.open("Favor de rellenar los compos!","Ok");this.isLoading=!0,this.data._id?(this.forma.value._id=this.data._id,this.usuarioService.updateElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):this.usuarioService.addElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1)}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(o.d),b.Mb(k),b.Mb(D.b),b.Mb(y.h),b.Mb(y.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-usuario-modal"]],decls:59,vars:5,consts:[[1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col-sm-6"],[1,"w-100"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellidos"],[1,"col-sm-7"],["matInput","","formControlName","direccion"],[1,"col-sm-5"],["matInput","","formControlName","telefono"],["matInput","","formControlName","usuario"],["matInput","","formControlName","password","type","password"],["matInput","","formControlName","email"],["matInput","","formControlName","role"],["value","ROOT_ROLE"],["value","ADMIN_ROLE"],["value","ESPECIAL_ROLE"],["value","USER_ROLE"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","submit",2,"min-width","85px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","my-1"]],template:function(t,a){1&t&&(b.Sb(0,"form",0),b.Zb("ngSubmit",(function(){return a.saveData()})),b.Sb(1,"h2",1),b.Ac(2,"Actualizar"),b.Rb(),b.Sb(3,"mat-dialog-content",2),b.Sb(4,"div",3),b.Sb(5,"div",4),b.Sb(6,"mat-form-field",5),b.Sb(7,"mat-label"),b.Ac(8,"Nombre"),b.Rb(),b.Nb(9,"input",6),b.Rb(),b.Rb(),b.Sb(10,"div",4),b.Sb(11,"mat-form-field",5),b.Sb(12,"mat-label"),b.Ac(13,"Apellidos"),b.Rb(),b.Nb(14,"input",7),b.Rb(),b.Rb(),b.Rb(),b.Sb(15,"div",3),b.Sb(16,"div",8),b.Sb(17,"mat-form-field",5),b.Sb(18,"mat-label"),b.Ac(19,"Direccion"),b.Rb(),b.Nb(20,"input",9),b.Rb(),b.Rb(),b.Sb(21,"div",10),b.Sb(22,"mat-form-field",5),b.Sb(23,"mat-label"),b.Ac(24,"Telefono"),b.Rb(),b.Nb(25,"input",11),b.Rb(),b.Rb(),b.Rb(),b.Sb(26,"div",3),b.Sb(27,"div",4),b.Sb(28,"mat-form-field",5),b.Sb(29,"mat-label"),b.Ac(30,"Usuario"),b.Rb(),b.Nb(31,"input",12),b.Rb(),b.Rb(),b.Sb(32,"div",4),b.Sb(33,"mat-form-field",5),b.Sb(34,"mat-label"),b.Ac(35,"Contrase\xf1a"),b.Rb(),b.Nb(36,"input",13),b.Rb(),b.Rb(),b.Rb(),b.Sb(37,"mat-form-field",5),b.Sb(38,"mat-label"),b.Ac(39,"Correo"),b.Rb(),b.Nb(40,"input",14),b.Rb(),b.Sb(41,"mat-form-field",5),b.Sb(42,"mat-label"),b.Ac(43,"Elija un area designada"),b.Rb(),b.Sb(44,"mat-select",15),b.Sb(45,"mat-option",16),b.Ac(46,"Superadministrador"),b.Rb(),b.Sb(47,"mat-option",17),b.Ac(48,"Administrador"),b.Rb(),b.Sb(49,"mat-option",18),b.Ac(50,"Especial"),b.Rb(),b.Sb(51,"mat-option",19),b.Ac(52,"Usuario"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(53,"mat-dialog-actions",20),b.Sb(54,"button",21),b.Ac(55,"Cancel"),b.Rb(),b.Sb(56,"button",22),b.zc(57,j,1,0,"mat-spinner",23),b.zc(58,x,2,0,"span",24),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.ic("formGroup",a.forma),b.Bb(54),b.ic("disabled",a.isLoading),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(1),b.ic("ngIf",a.isLoading),b.Bb(1),b.ic("ngIf",!a.isLoading))},directives:[o.o,o.k,o.f,y.i,y.f,B.c,B.f,z.b,o.c,o.j,o.e,O.a,h.j,y.d,l.a,y.e,i.l,L.d],encapsulation:2}),t})();var E=e("Wp6s"),_=e("+0xr"),T=e("XNiG"),G=e("2Vo4"),F=e("itXk"),P=e("CqXF"),$=e("1G5W");let H=(()=>{class t{constructor(t,a){this.table=t,this.renderer=a,this.onDestroy$=new T.a,this.theadChanged$=new G.a(!0),this.tbodyChanged$=new T.a,this.theadObserver=new MutationObserver(()=>this.theadChanged$.next(!0)),this.tbodyObserver=new MutationObserver(()=>this.tbodyChanged$.next(!0))}ngOnInit(){this.thead=this.table.nativeElement.querySelector("thead"),this.tbody=this.table.nativeElement.querySelector("tbody"),this.theadObserver.observe(this.thead,{characterData:!0,subtree:!0}),this.tbodyObserver.observe(this.tbody,{childList:!0})}ngAfterViewInit(){Object(F.a)([this.theadChanged$,this.tbodyChanged$]).pipe(Object(P.a)([this.thead.rows.item(0),this.tbody.rows]),Object(w.a)(([t,a])=>[[...t.children].map(t=>t.textContent),[...a].map(t=>[...t.children])]),Object($.a)(this.onDestroy$)).subscribe(([t,a])=>a.forEach(a=>a.forEach(a=>this.renderer.setAttribute(a,"data-column-name",t[a.cellIndex]))))}ngOnDestroy(){this.theadObserver.disconnect(),this.tbodyObserver.disconnect(),this.onDestroy$.next(!0)}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(b.l),b.Mb(b.G))},t.\u0275dir=b.Hb({type:t,selectors:[["","matTableResponsive",""]]}),t})();function U(t,a){1&t&&(b.Sb(0,"th",14),b.Ac(1," Nombre. "),b.Rb())}function Q(t,a){if(1&t&&(b.Sb(0,"td",15),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.nombre," ")}}function W(t,a){1&t&&(b.Sb(0,"th",14),b.Ac(1," Usuario "),b.Rb())}function Z(t,a){if(1&t&&(b.Sb(0,"td",15),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.usuario," ")}}function q(t,a){1&t&&(b.Sb(0,"th",14),b.Ac(1," Telefono "),b.Rb())}function V(t,a){if(1&t&&(b.Sb(0,"td",15),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.telefono," ")}}function X(t,a){1&t&&(b.Sb(0,"th",14),b.Ac(1," Rol "),b.Rb())}function J(t,a){if(1&t&&(b.Sb(0,"td",15),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.role," ")}}function K(t,a){1&t&&(b.Sb(0,"th",14),b.Ac(1," Email "),b.Rb())}function Y(t,a){if(1&t&&(b.Sb(0,"td",15),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.email," ")}}function tt(t,a){1&t&&b.Nb(0,"th",14)}function at(t,a){if(1&t){const t=b.Tb();b.Sb(0,"td",15),b.Sb(1,"button",16),b.Zb("click",(function(){b.rc(t);const e=a.$implicit;return b.dc().openDialog(e)})),b.Sb(2,"mat-icon"),b.Ac(3,"edit"),b.Rb(),b.Rb(),b.Sb(4,"button",17),b.Sb(5,"mat-icon"),b.Ac(6,"delete"),b.Rb(),b.Rb(),b.Rb()}}function et(t,a){1&t&&b.Nb(0,"tr",18)}function it(t,a){1&t&&b.Nb(0,"tr",19)}function ot(t,a){1&t&&(b.Sb(0,"div",20),b.Nb(1,"mat-spinner"),b.Rb())}let nt=(()=>{class t{constructor(t,a){this.dialog=t,this.usuarioService=a,this.displayedColumns=["nombre","usuario","telefono","role","email","actions"]}ngOnInit(){this.getAll()}getAll(){return this.usuarioService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(M,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(y.c),b.Mb(k))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-usuarios"]],decls:33,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","usuario"],["matColumnDef","telefono"],["matColumnDef","role"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,a){1&t&&(b.Sb(0,"mat-card"),b.Sb(1,"mat-card-header"),b.Sb(2,"mat-card-title"),b.Ac(3,"Usuario"),b.Rb(),b.Sb(4,"mat-card-subtitle"),b.Ac(5,"Usuarios actuales"),b.Rb(),b.Rb(),b.Sb(6,"div",0),b.Sb(7,"button",1),b.Zb("click",(function(){return a.openDialog()})),b.Sb(8,"mat-icon"),b.Ac(9,"add"),b.Rb(),b.Rb(),b.Rb(),b.Sb(10,"mat-card-content"),b.Sb(11,"table",2),b.Qb(12,3),b.zc(13,U,2,0,"th",4),b.zc(14,Q,2,1,"td",5),b.Pb(),b.Qb(15,6),b.zc(16,W,2,0,"th",4),b.zc(17,Z,2,1,"td",5),b.Pb(),b.Qb(18,7),b.zc(19,q,2,0,"th",4),b.zc(20,V,2,1,"td",5),b.Pb(),b.Qb(21,8),b.zc(22,X,2,0,"th",4),b.zc(23,J,2,1,"td",5),b.Pb(),b.Qb(24,9),b.zc(25,K,2,0,"th",4),b.zc(26,Y,2,1,"td",5),b.Pb(),b.Qb(27,10),b.zc(28,tt,1,0,"th",4),b.zc(29,at,7,0,"td",5),b.Pb(),b.zc(30,et,1,0,"tr",11),b.zc(31,it,1,0,"tr",12),b.Rb(),b.zc(32,ot,2,0,"div",13),b.Rb(),b.Rb()),2&t&&(b.Bb(11),b.ic("dataSource",a.data),b.Bb(19),b.ic("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),b.Bb(1),b.ic("matRowDefColumns",a.displayedColumns),b.Bb(1),b.ic("ngIf",!a.data))},directives:[E.a,E.c,E.f,E.e,l.a,d.a,E.b,_.j,H,_.c,_.e,_.b,_.g,_.i,i.l,_.d,_.a,_.f,_.h,L.d],encapsulation:2}),t})(),ct=(()=>{class t{constructor(t,a){this.http=t,this.authService=a,this.api=I.a.api,this.headers=(new N.d).set("Content-Type","application/json")}getAll(){return this.http.get(this.api+"/empleado?token="+this.authService.token,{headers:this.headers}).pipe(Object(w.a)(t=>t.data))}addElement(t){return this.http.post(this.api+"/empleado?token="+this.authService.token,t,{headers:this.headers}).pipe(Object(w.a)(t=>t.data))}updateElement(t){return this.http.put(this.api+"/empleado/"+t._id+"?token="+this.authService.token,t,{headers:this.headers}).pipe(Object(w.a)(t=>t.data))}}return t.\u0275fac=function(a){return new(a||t)(b.Wb(N.b),b.Wb(r.a))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bt(t,a){if(1&t&&(b.Sb(0,"div",26),b.Sb(1,"mat-card"),b.Sb(2,"mat-card-content"),b.Sb(3,"div",27),b.Sb(4,"label"),b.Ac(5,"Creado por"),b.Rb(),b.Nb(6,"input",28),b.Rb(),b.Sb(7,"div",27),b.Nb(8,"input",29),b.Rb(),b.Sb(9,"div",27),b.Nb(10,"input",30),b.Rb(),b.Sb(11,"div",27),b.Sb(12,"label"),b.Ac(13,"Fecha creacion"),b.Rb(),b.Nb(14,"input",31),b.ec(15,"date"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){const t=b.dc();b.Bb(6),b.kc("value","",t.data.usuario.nombre," ",t.data.usuario.apellidos,""),b.Bb(2),b.jc("value",t.data.usuario.usuario),b.Bb(2),b.jc("value",t.data.usuario.telefono),b.Bb(4),b.jc("value",b.fc(15,5,t.data.createAt))}}function rt(t,a){1&t&&b.Nb(0,"mat-spinner",32)}function st(t,a){if(1&t&&(b.Sb(0,"span"),b.Ac(1),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.Bc(t.title)}}const lt=function(t){return{row:t}},dt=function(t){return{"col-sm-7":t}};let ut=(()=>{class t{constructor(t,a,e,i,n){this.fb=t,this.colaboradorService=a,this.snack=e,this.dialogRef=i,this.data=n,this.title="Registro",this.forma=this.fb.group({nombre:[this.data.nombre,o.n.required],apellidos:[this.data.apellidos],direccion:[this.data.direccion],telefono:[this.data.telefono],role:[this.data.role||"AUX_RUTA",o.n.required]})}ngOnInit(){console.log(this.data),this.data._id&&(this.title="Actualizar")}saveData(){if(!this.forma.valid)return this.snack.open("Favor de rellenar los compos!","Ok");this.isLoading=!0,this.data._id?(this.forma.value._id=this.data._id,this.colaboradorService.updateElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):this.colaboradorService.addElement(this.forma.value).subscribe(t=>{this.dialogRef.close(t),this.isLoading=!1,this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1)}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(o.d),b.Mb(ct),b.Mb(D.b),b.Mb(y.h),b.Mb(y.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-colaborador-modal"]],decls:52,vars:13,consts:[[1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[3,"ngClass"],[1,"row"],[1,"col-sm-6"],[1,"w-100"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellidos"],["matInput","","formControlName","direccion"],["matInput","","formControlName","telefono"],["matInput","","formControlName","role"],["value","ADMINISTRATIVO"],["value","VENDEDOR"],["value","RECIBO"],["value","CHOFER"],["value","AUX_ALMACEN"],["value","AUX_RUTA"],["value","CHECADOR"],["value","SUPERVISOR"],["class","col-sm-5",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"col-sm-5"],[1,"form-group"],["readonly","","placeholder","Nombre",1,"form-control",3,"value"],["readonly","","placeholder","Usuario",1,"form-control",3,"value"],["readonly","","placeholder","Telefono",1,"form-control",3,"value"],["readonly","","placeholder","Fecha creacion",1,"form-control",3,"value"],[1,"mx-auto","my-1"]],template:function(t,a){1&t&&(b.Sb(0,"form",0),b.Zb("ngSubmit",(function(){return a.saveData()})),b.Sb(1,"h2",1),b.Ac(2),b.Rb(),b.Sb(3,"mat-dialog-content",2),b.Sb(4,"div",3),b.Sb(5,"div",3),b.Sb(6,"div",4),b.Sb(7,"div",5),b.Sb(8,"mat-form-field",6),b.Sb(9,"mat-label"),b.Ac(10,"Nombre"),b.Rb(),b.Nb(11,"input",7),b.Rb(),b.Rb(),b.Sb(12,"div",5),b.Sb(13,"mat-form-field",6),b.Sb(14,"mat-label"),b.Ac(15,"Apellidos"),b.Rb(),b.Nb(16,"input",8),b.Rb(),b.Rb(),b.Rb(),b.Sb(17,"mat-form-field",6),b.Sb(18,"mat-label"),b.Ac(19,"Direccion"),b.Rb(),b.Nb(20,"input",9),b.Rb(),b.Sb(21,"mat-form-field",6),b.Sb(22,"mat-label"),b.Ac(23,"Telefono"),b.Rb(),b.Nb(24,"input",10),b.Rb(),b.Sb(25,"mat-form-field",6),b.Sb(26,"mat-label"),b.Ac(27,"Elija un area designada"),b.Rb(),b.Sb(28,"mat-select",11),b.Sb(29,"mat-option",12),b.Ac(30,"Administrador"),b.Rb(),b.Sb(31,"mat-option",13),b.Ac(32,"Vendedor"),b.Rb(),b.Sb(33,"mat-option",14),b.Ac(34,"Recepcion"),b.Rb(),b.Sb(35,"mat-option",15),b.Ac(36,"Chofer"),b.Rb(),b.Sb(37,"mat-option",16),b.Ac(38,"Auxiliar almacen"),b.Rb(),b.Sb(39,"mat-option",17),b.Ac(40,"Auxiliar ruta"),b.Rb(),b.Sb(41,"mat-option",18),b.Ac(42,"Checador"),b.Rb(),b.Sb(43,"mat-option",19),b.Ac(44,"Supervisor"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.zc(45,bt,16,7,"div",20),b.Rb(),b.Rb(),b.Sb(46,"mat-dialog-actions",21),b.Sb(47,"button",22),b.Ac(48,"Cancelar"),b.Rb(),b.Sb(49,"button",23),b.zc(50,rt,1,0,"mat-spinner",24),b.zc(51,st,2,1,"span",25),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.ic("formGroup",a.forma),b.Bb(2),b.Bc(a.title),b.Bb(2),b.ic("ngClass",b.mc(9,lt,a.data.usuario)),b.Bb(1),b.ic("ngClass",b.mc(11,dt,a.data.usuario)),b.Bb(40),b.ic("ngIf",a.data.usuario),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(1),b.ic("ngIf",a.isLoading),b.Bb(1),b.ic("ngIf",!a.isLoading))},directives:[o.o,o.k,o.f,y.i,y.f,i.j,B.c,B.f,z.b,o.c,o.j,o.e,O.a,h.j,i.l,y.d,l.a,y.e,E.a,E.b,L.d],pipes:[i.e],encapsulation:2}),t})();function mt(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Nombre. "),b.Rb())}function ft(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Dc(" ",t.nombre," ",t.apellidos," ")}}function pt(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Telefon "),b.Rb())}function ht(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.telefono," ")}}function Rt(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Estado "),b.Rb())}function St(t,a){1&t&&(b.Sb(0,"td",14),b.Sb(1,"mat-icon",15),b.Ac(2,"person"),b.Rb(),b.Rb())}function vt(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Rol "),b.Rb())}function gt(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.role," ")}}function At(t,a){1&t&&b.Nb(0,"th",13)}function Ct(t,a){if(1&t){const t=b.Tb();b.Sb(0,"td",14),b.Sb(1,"button",16),b.Zb("click",(function(){b.rc(t);const e=a.$implicit;return b.dc().openDialog(e)})),b.Sb(2,"mat-icon"),b.Ac(3,"edit"),b.Rb(),b.Rb(),b.Sb(4,"button",17),b.Sb(5,"mat-icon"),b.Ac(6,"delete"),b.Rb(),b.Rb(),b.Rb()}}function yt(t,a){1&t&&b.Nb(0,"tr",18)}function Nt(t,a){1&t&&b.Nb(0,"tr",19)}function wt(t,a){1&t&&(b.Sb(0,"div",20),b.Nb(1,"mat-spinner"),b.Rb())}let It=(()=>{class t{constructor(t,a){this.dialog=t,this.colaboradorService=a,this.displayColumns=["nombre","telefono","status","role","actions"]}ngOnInit(){this.getAll()}getAll(){return this.colaboradorService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(ut,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(y.c),b.Mb(ct))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-colaboradores"]],decls:30,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","telefono"],["matColumnDef","status"],["matColumnDef","role"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["color","primary"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,a){1&t&&(b.Sb(0,"mat-card"),b.Sb(1,"mat-card-header"),b.Sb(2,"mat-card-title"),b.Ac(3,"Colaboradores"),b.Rb(),b.Sb(4,"mat-card-subtitle"),b.Ac(5,"Colaboradores actuales"),b.Rb(),b.Rb(),b.Sb(6,"div",0),b.Sb(7,"button",1),b.Zb("click",(function(){return a.openDialog()})),b.Sb(8,"mat-icon"),b.Ac(9,"add"),b.Rb(),b.Rb(),b.Rb(),b.Sb(10,"mat-card-content"),b.Sb(11,"table",2),b.Qb(12,3),b.zc(13,mt,2,0,"th",4),b.zc(14,ft,2,2,"td",5),b.Pb(),b.Qb(15,6),b.zc(16,pt,2,0,"th",4),b.zc(17,ht,2,1,"td",5),b.Pb(),b.Qb(18,7),b.zc(19,Rt,2,0,"th",4),b.zc(20,St,3,0,"td",5),b.Pb(),b.Qb(21,8),b.zc(22,vt,2,0,"th",4),b.zc(23,gt,2,1,"td",5),b.Pb(),b.Qb(24,9),b.zc(25,At,1,0,"th",4),b.zc(26,Ct,7,0,"td",5),b.Pb(),b.zc(27,yt,1,0,"tr",10),b.zc(28,Nt,1,0,"tr",11),b.Rb(),b.zc(29,wt,2,0,"div",12),b.Rb(),b.Rb()),2&t&&(b.Bb(11),b.ic("dataSource",a.data),b.Bb(16),b.ic("matHeaderRowDef",a.displayColumns)("matHeaderRowDefSticky",!0),b.Bb(1),b.ic("matRowDefColumns",a.displayColumns),b.Bb(1),b.ic("ngIf",!a.data))},directives:[E.a,E.c,E.f,E.e,l.a,d.a,E.b,_.j,H,_.c,_.e,_.b,_.g,_.i,i.l,_.d,_.a,_.f,_.h,L.d],encapsulation:2}),t})();function kt(t,a){1&t&&(b.Sb(0,"span"),b.Ac(1,"Actualizar datos"),b.Rb())}function Dt(t,a){1&t&&b.Nb(0,"mat-progress-spinner",21)}let Bt=(()=>{class t{constructor(t,a){this.fb=t,this.authService=a}ngOnInit(){this.user=this.authService.currentUser,this.forma=this.fb.group({nombre:[this.user.nombre,o.n.required],apellidos:[this.user.apellidos],direccion:[this.user.direccion],telefono:[this.user.telefono],usuario:[this.user.usuario,o.n.required],email:[this.user.email],password:[],create_at:{value:this.user.createAt,disabled:!0}})}actualizar(){this.isLoading=!0,this.authService.updateProfile(this.forma.value).subscribe(()=>this.isLoading=!1,()=>this.isLoading=!1)}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(o.d),b.Mb(r.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-perfil"]],decls:69,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],[1,"w-100"],["matInput","","formControlName","nombre"],["matSuffix",""],["matInput","","formControlName","apellidos"],[1,"col-md-8"],["matInput","","formControlName","direccion"],[1,"col-md-4"],["matInput","","formControlName","telefono"],[1,"col-md-5"],["matInput","","formControlName","usuario"],[1,"col-md-7"],["matInput","","formControlName","email"],["matInput","","formControlName","password","type","password"],["matInput","","formControlName","create_at"],[1,"d-flex","justify-content-end"],["mat-raised-button","","color","primary","type","submit",2,"min-width","200px",3,"disabled"],[4,"ngIf"],["mode","indeterminate","diameter","28","strokeWidth","5","class","mx-auto my-1",4,"ngIf"],["mode","indeterminate","diameter","28","strokeWidth","5",1,"mx-auto","my-1"]],template:function(t,a){1&t&&(b.Sb(0,"mat-card"),b.Sb(1,"mat-card-header"),b.Sb(2,"mat-card-title"),b.Ac(3,"Perfil"),b.Rb(),b.Sb(4,"mat-card-subtitle"),b.Ac(5,"Datos personales"),b.Rb(),b.Rb(),b.Sb(6,"mat-card-content"),b.Sb(7,"form",0),b.Zb("ngSubmit",(function(){return a.actualizar()})),b.Sb(8,"div",1),b.Sb(9,"div",2),b.Sb(10,"mat-form-field",3),b.Sb(11,"mat-label"),b.Ac(12,"Nombre *"),b.Rb(),b.Nb(13,"input",4),b.Sb(14,"mat-icon",5),b.Ac(15,"person"),b.Rb(),b.Rb(),b.Rb(),b.Sb(16,"div",2),b.Sb(17,"mat-form-field",3),b.Sb(18,"mat-label"),b.Ac(19,"Apellidos"),b.Rb(),b.Nb(20,"input",6),b.Sb(21,"mat-icon",5),b.Ac(22,"person"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(23,"div",1),b.Sb(24,"div",7),b.Sb(25,"mat-form-field",3),b.Sb(26,"mat-label"),b.Ac(27,"Direccion"),b.Rb(),b.Nb(28,"input",8),b.Sb(29,"mat-icon",5),b.Ac(30,"place"),b.Rb(),b.Rb(),b.Rb(),b.Sb(31,"div",9),b.Sb(32,"mat-form-field",3),b.Sb(33,"mat-label"),b.Ac(34,"Telefono"),b.Rb(),b.Nb(35,"input",10),b.Sb(36,"mat-icon",5),b.Ac(37,"phone"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(38,"div",1),b.Sb(39,"div",11),b.Sb(40,"mat-form-field",3),b.Sb(41,"mat-label"),b.Ac(42,"Usuario *"),b.Rb(),b.Nb(43,"input",12),b.Sb(44,"mat-icon",5),b.Ac(45,"lock"),b.Rb(),b.Rb(),b.Rb(),b.Sb(46,"div",13),b.Sb(47,"mat-form-field",3),b.Sb(48,"mat-label"),b.Ac(49,"Correo *"),b.Rb(),b.Nb(50,"input",14),b.Sb(51,"mat-icon",5),b.Ac(52,"mail"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(53,"mat-form-field",3),b.Sb(54,"mat-label"),b.Ac(55,"Ingrese una nueva contrase\xf1a"),b.Rb(),b.Nb(56,"input",15),b.Sb(57,"mat-icon",5),b.Ac(58,"lock"),b.Rb(),b.Rb(),b.Sb(59,"mat-form-field",3),b.Sb(60,"mat-label"),b.Ac(61,"Antig\xfcedad"),b.Rb(),b.Nb(62,"input",16),b.Sb(63,"mat-icon",5),b.Ac(64,"event_note"),b.Rb(),b.Rb(),b.Sb(65,"div",17),b.Sb(66,"button",18),b.zc(67,kt,2,0,"span",19),b.zc(68,Dt,1,0,"mat-progress-spinner",20),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(7),b.ic("formGroup",a.forma),b.Bb(59),b.ic("disabled",a.isLoading),b.Bb(1),b.ic("ngIf",!a.isLoading),b.Bb(1),b.ic("ngIf",a.isLoading))},directives:[E.a,E.c,E.f,E.e,E.b,o.o,o.k,o.f,B.c,B.f,z.b,o.c,o.j,o.e,d.a,B.g,l.a,i.l,L.b],encapsulation:2}),t})(),zt=(()=>{class t{constructor(t,a){this.http=t,this.authService=a,this.api=I.a.api}addElement(t){return this.http.post(this.api+"/ruta?token="+this.authService.token,t).pipe(Object(w.a)(t=>t.data))}getAll(){return this.http.get(this.api+"/ruta?token="+this.authService.token).pipe(Object(w.a)(t=>t.data))}updateElement(t){return this.http.put(this.api+"/ruta/"+t._id+"?token="+this.authService.token,t).pipe(Object(w.a)(t=>t.data))}}return t.\u0275fac=function(a){return new(a||t)(b.Wb(N.b),b.Wb(r.a))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ot(t,a){if(1&t&&(b.Sb(0,"div",20),b.Sb(1,"mat-card"),b.Sb(2,"mat-card-content"),b.Sb(3,"div",21),b.Sb(4,"label"),b.Ac(5,"Creado por"),b.Rb(),b.Nb(6,"input",22),b.Rb(),b.Sb(7,"div",21),b.Nb(8,"input",23),b.Rb(),b.Sb(9,"div",21),b.Nb(10,"input",24),b.Rb(),b.Sb(11,"div",21),b.Sb(12,"label"),b.Ac(13,"Fecha creacion"),b.Rb(),b.Nb(14,"input",25),b.ec(15,"date"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){const t=b.dc();b.Bb(6),b.kc("value","",t.data.usuario.nombre," ",t.data.usuario.apellidos,""),b.Bb(2),b.jc("value",t.data.usuario.usuario),b.Bb(2),b.jc("value",t.data.usuario.telefono),b.Bb(4),b.jc("value",b.fc(15,5,t.data.createAt))}}function Lt(t,a){1&t&&b.Nb(0,"mat-spinner",26)}function jt(t,a){1&t&&(b.Sb(0,"span"),b.Ac(1,"Guardar"),b.Rb())}const xt=function(t){return{row:t}},Mt=function(t){return{"col-sm-7":t}};let Et=(()=>{class t{constructor(t,a,e,i,n){this.fb=t,this.rutaService=a,this.snack=e,this.dialogRef=i,this.data=n,this.forma=this.fb.group({clave:[this.data.clave,o.n.required],nombre:[this.data.nombre],subrutas:[this.data.subrutas],tipo_ruta:[this.data.tipo_ruta||"RUTA"]})}ngOnInit(){}saveData(){if(this.forma.invalid)return this.snack.open("Favor de llenar los campos obligatorios!","Ok");this.data._id?(this.isLoading=!0,this.forma.value._id=this.data._id,this.rutaService.updateElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):(this.isLoading=!0,this.rutaService.addElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1))}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(o.d),b.Mb(zt),b.Mb(D.b),b.Mb(y.h),b.Mb(y.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-ruta-modal"]],decls:39,vars:12,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[3,"ngClass"],[1,"w-100"],["matInput","","formControlName","clave"],["matInput","","formControlName","nombre"],["matInput","","formControlName","subrutas"],["matInput","","formControlName","tipo_ruta"],["value","RUTA"],["value","AUTOSERVICIO"],["value","FALTANTE"],["value","RUTA_BORDO"],["value","ESPECIAL"],["class","col-sm-5",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"col-sm-5"],[1,"form-group"],["readonly","","placeholder","Nombre",1,"form-control",3,"value"],["readonly","","placeholder","Usuario",1,"form-control",3,"value"],["readonly","","placeholder","Telefono",1,"form-control",3,"value"],["readonly","","placeholder","Fecha creacion",1,"form-control",3,"value"],[1,"mx-auto","my-1"]],template:function(t,a){1&t&&(b.Sb(0,"form",0),b.Zb("ngSubmit",(function(){return a.saveData()})),b.Sb(1,"h2",1),b.Ac(2,"Informacion de ruta"),b.Rb(),b.Sb(3,"mat-dialog-content",2),b.Sb(4,"div",3),b.Sb(5,"div",3),b.Sb(6,"mat-form-field",4),b.Sb(7,"mat-label"),b.Ac(8,"Clave ruta *"),b.Rb(),b.Nb(9,"input",5),b.Rb(),b.Sb(10,"mat-form-field",4),b.Sb(11,"mat-label"),b.Ac(12,"Nombre"),b.Rb(),b.Nb(13,"input",6),b.Rb(),b.Sb(14,"mat-form-field",4),b.Sb(15,"mat-label"),b.Ac(16,"Subrutas"),b.Rb(),b.Nb(17,"input",7),b.Rb(),b.Sb(18,"mat-form-field",4),b.Sb(19,"mat-label"),b.Ac(20,"Elija un tipo de ruta"),b.Rb(),b.Sb(21,"mat-select",8),b.Sb(22,"mat-option",9),b.Ac(23,"Ruta"),b.Rb(),b.Sb(24,"mat-option",10),b.Ac(25,"Venta autoservicio"),b.Rb(),b.Sb(26,"mat-option",11),b.Ac(27,"Faltante de inventario"),b.Rb(),b.Sb(28,"mat-option",12),b.Ac(29,"Ruta a bordo"),b.Rb(),b.Sb(30,"mat-option",13),b.Ac(31,"Venta especial"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.zc(32,Ot,16,7,"div",14),b.Rb(),b.Rb(),b.Sb(33,"mat-dialog-actions",15),b.Sb(34,"button",16),b.Ac(35,"Cancelar"),b.Rb(),b.Sb(36,"button",17),b.zc(37,Lt,1,0,"mat-spinner",18),b.zc(38,jt,2,0,"span",19),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.ic("formGroup",a.forma),b.Bb(4),b.ic("ngClass",b.mc(8,xt,a.data.usuario)),b.Bb(1),b.ic("ngClass",b.mc(10,Mt,a.data.usuario)),b.Bb(27),b.ic("ngIf",a.data.usuario),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(1),b.ic("ngIf",a.isLoading),b.Bb(1),b.ic("ngIf",!a.isLoading))},directives:[o.o,o.k,o.f,y.i,y.f,i.j,B.c,B.f,z.b,o.c,o.j,o.e,O.a,h.j,i.l,y.d,l.a,y.e,E.a,E.b,L.d],pipes:[i.e],encapsulation:2}),t})();function _t(t,a){1&t&&(b.Sb(0,"th",12),b.Ac(1," Clave. "),b.Rb())}function Tt(t,a){if(1&t&&(b.Sb(0,"td",13),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.clave," ")}}function Gt(t,a){1&t&&(b.Sb(0,"th",12),b.Ac(1," Nombre "),b.Rb())}function Ft(t,a){if(1&t&&(b.Sb(0,"td",13),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.nombre," ")}}function Pt(t,a){1&t&&(b.Sb(0,"th",12),b.Ac(1," Tipo ruta "),b.Rb())}function $t(t,a){if(1&t&&(b.Sb(0,"td",13),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.tipo_ruta," ")}}function Ht(t,a){1&t&&b.Nb(0,"th",12)}function Ut(t,a){if(1&t){const t=b.Tb();b.Sb(0,"td",13),b.Sb(1,"button",14),b.Zb("click",(function(){b.rc(t);const e=a.$implicit;return b.dc().openDialog(e)})),b.Sb(2,"mat-icon"),b.Ac(3,"edit"),b.Rb(),b.Rb(),b.Sb(4,"button",15),b.Sb(5,"mat-icon"),b.Ac(6,"delete"),b.Rb(),b.Rb(),b.Rb()}}function Qt(t,a){1&t&&b.Nb(0,"tr",16)}function Wt(t,a){1&t&&b.Nb(0,"tr",17)}function Zt(t,a){1&t&&(b.Sb(0,"div",18),b.Nb(1,"mat-spinner"),b.Rb())}let qt=(()=>{class t{constructor(t,a){this.rutaService=t,this.dialog=a,this.displayedColumns=["clave","nombre","tipo_ruta","actions"]}ngOnInit(){this.getAll()}getAll(){return this.rutaService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(Et,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(zt),b.Mb(y.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-rutas"]],decls:27,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","clave"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","tipo_ruta"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,a){1&t&&(b.Sb(0,"mat-card"),b.Sb(1,"mat-card-header"),b.Sb(2,"mat-card-title"),b.Ac(3,"Rutas"),b.Rb(),b.Sb(4,"mat-card-subtitle"),b.Ac(5,"Registro de rutas"),b.Rb(),b.Rb(),b.Sb(6,"div",0),b.Sb(7,"button",1),b.Zb("click",(function(){return a.openDialog()})),b.Sb(8,"mat-icon"),b.Ac(9,"add"),b.Rb(),b.Rb(),b.Rb(),b.Sb(10,"mat-card-content"),b.Sb(11,"table",2),b.Qb(12,3),b.zc(13,_t,2,0,"th",4),b.zc(14,Tt,2,1,"td",5),b.Pb(),b.Qb(15,6),b.zc(16,Gt,2,0,"th",4),b.zc(17,Ft,2,1,"td",5),b.Pb(),b.Qb(18,7),b.zc(19,Pt,2,0,"th",4),b.zc(20,$t,2,1,"td",5),b.Pb(),b.Qb(21,8),b.zc(22,Ht,1,0,"th",4),b.zc(23,Ut,7,0,"td",5),b.Pb(),b.zc(24,Qt,1,0,"tr",9),b.zc(25,Wt,1,0,"tr",10),b.Rb(),b.zc(26,Zt,2,0,"div",11),b.Rb(),b.Rb()),2&t&&(b.Bb(11),b.ic("dataSource",a.data),b.Bb(13),b.ic("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),b.Bb(1),b.ic("matRowDefColumns",a.displayedColumns),b.Bb(1),b.ic("ngIf",!a.data))},directives:[E.a,E.c,E.f,E.e,l.a,d.a,E.b,_.j,H,_.c,_.e,_.b,_.g,_.i,i.l,_.d,_.a,_.f,_.h,L.d],encapsulation:2}),t})(),Vt=(()=>{class t{constructor(t,a){this.http=t,this.authService=a,this.api=I.a.api}addElement(t){return this.http.post(this.api+"/flota?token="+this.authService.token,t).pipe(Object(w.a)(t=>t.data))}getAll(){return this.http.get(this.api+"/flota?token="+this.authService.token).pipe(Object(w.a)(t=>t.data))}updateElement(t){return this.http.put(this.api+"/flota/"+t._id+"?token="+this.authService.token,t).pipe(Object(w.a)(t=>t.data))}}return t.\u0275fac=function(a){return new(a||t)(b.Wb(N.b),b.Wb(r.a))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xt(t,a){if(1&t&&(b.Sb(0,"div",21),b.Sb(1,"mat-card"),b.Sb(2,"mat-card-content"),b.Sb(3,"div",22),b.Sb(4,"label"),b.Ac(5,"Creado por"),b.Rb(),b.Nb(6,"input",23),b.Rb(),b.Sb(7,"div",22),b.Nb(8,"input",24),b.Rb(),b.Sb(9,"div",22),b.Nb(10,"input",25),b.Rb(),b.Sb(11,"div",22),b.Sb(12,"label"),b.Ac(13,"Fecha creacion"),b.Rb(),b.Nb(14,"input",26),b.ec(15,"date"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){const t=b.dc();b.Bb(6),b.kc("value","",t.data.usuario.nombre," ",t.data.usuario.apellidos,""),b.Bb(2),b.jc("value",t.data.usuario.usuario),b.Bb(2),b.jc("value",t.data.usuario.telefono),b.Bb(4),b.jc("value",b.fc(15,5,t.data.createAt))}}function Jt(t,a){1&t&&b.Nb(0,"mat-spinner",27)}function Kt(t,a){1&t&&(b.Sb(0,"span"),b.Ac(1,"Guardar"),b.Rb())}const Yt=function(t){return{row:t}},ta=function(t){return{"col-sm-7":t}};let aa=(()=>{class t{constructor(t,a,e,i,n){this.fb=t,this.flotaService=a,this.snack=e,this.dialogRef=i,this.data=n,this.forma=this.fb.group({clave:[this.data.clave,o.n.required],placa:[this.data.placa],anio:[this.data.anio],capacidad:[this.data.capacidad],tipo:[this.data.tipo||"FORD"]})}ngOnInit(){}saveData(){if(this.forma.invalid)return this.snack.open("Favor de llenar los campos obligatorios!","Ok");this.data._id?(this.isLoading=!0,this.forma.value._id=this.data._id,this.flotaService.updateElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro actualizado satisfactoriamente!","Ok")},()=>this.isLoading=!1)):(this.isLoading=!0,this.flotaService.addElement(this.forma.value).subscribe(()=>{this.isLoading=!1,this.dialogRef.close(),this.snack.open("Registro agregado satisfactoriamente!","Ok")},()=>this.isLoading=!1))}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(o.d),b.Mb(Vt),b.Mb(D.b),b.Mb(y.h),b.Mb(y.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-flota-modal"]],decls:43,vars:12,consts:[["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[3,"ngClass"],[1,"w-100"],["matInput","","formControlName","clave"],["matInput","","formControlName","placa"],["matInput","","formControlName","anio"],["matInput","","formControlName","capacidad"],["matInput","","formControlName","tipo"],["value","FORD"],["value","NISSAN"],["value","HINNO CHICA"],["value","HINNO GRANDE"],["value","CAMION"],["class","col-sm-5",4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close","","type","button",3,"disabled"],["mat-raised-button","","color","primary","type","sybmit",2,"min-width","105px",3,"disabled"],["class","mx-auto my-1",4,"ngIf"],[4,"ngIf"],[1,"col-sm-5"],[1,"form-group"],["readonly","","placeholder","Nombre",1,"form-control",3,"value"],["readonly","","placeholder","Usuario",1,"form-control",3,"value"],["readonly","","placeholder","Telefono",1,"form-control",3,"value"],["readonly","","placeholder","Fecha creacion",1,"form-control",3,"value"],[1,"mx-auto","my-1"]],template:function(t,a){1&t&&(b.Sb(0,"form",0),b.Zb("ngSubmit",(function(){return a.saveData()})),b.Sb(1,"h2",1),b.Ac(2,"Informacion unidad"),b.Rb(),b.Sb(3,"mat-dialog-content",2),b.Sb(4,"div",3),b.Sb(5,"div",3),b.Sb(6,"mat-form-field",4),b.Sb(7,"mat-label"),b.Ac(8,"Clave ruta *"),b.Rb(),b.Nb(9,"input",5),b.Rb(),b.Sb(10,"mat-form-field",4),b.Sb(11,"mat-label"),b.Ac(12,"Placa"),b.Rb(),b.Nb(13,"input",6),b.Rb(),b.Sb(14,"mat-form-field",4),b.Sb(15,"mat-label"),b.Ac(16,"A\xf1o"),b.Rb(),b.Nb(17,"input",7),b.Rb(),b.Sb(18,"mat-form-field",4),b.Sb(19,"mat-label"),b.Ac(20,"Capacidad"),b.Rb(),b.Nb(21,"input",8),b.Rb(),b.Sb(22,"mat-form-field",4),b.Sb(23,"mat-label"),b.Ac(24,"Elija un tipo de unidad"),b.Rb(),b.Sb(25,"mat-select",9),b.Sb(26,"mat-option",10),b.Ac(27,"Ford"),b.Rb(),b.Sb(28,"mat-option",11),b.Ac(29,"Nissan"),b.Rb(),b.Sb(30,"mat-option",12),b.Ac(31,"Hinno caja chica"),b.Rb(),b.Sb(32,"mat-option",13),b.Ac(33,"Hinno caja grande"),b.Rb(),b.Sb(34,"mat-option",14),b.Ac(35,"Camion"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.zc(36,Xt,16,7,"div",15),b.Rb(),b.Rb(),b.Sb(37,"mat-dialog-actions",16),b.Sb(38,"button",17),b.Ac(39,"Cancelar"),b.Rb(),b.Sb(40,"button",18),b.zc(41,Jt,1,0,"mat-spinner",19),b.zc(42,Kt,2,0,"span",20),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.ic("formGroup",a.forma),b.Bb(4),b.ic("ngClass",b.mc(8,Yt,a.data.usuario)),b.Bb(1),b.ic("ngClass",b.mc(10,ta,a.data.usuario)),b.Bb(31),b.ic("ngIf",a.data.usuario),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(2),b.ic("disabled",a.isLoading),b.Bb(1),b.ic("ngIf",a.isLoading),b.Bb(1),b.ic("ngIf",!a.isLoading))},directives:[o.o,o.k,o.f,y.i,y.f,i.j,B.c,B.f,z.b,o.c,o.j,o.e,O.a,h.j,i.l,y.d,l.a,y.e,E.a,E.b,L.d],pipes:[i.e],encapsulation:2}),t})();function ea(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Clave "),b.Rb())}function ia(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.clave," ")}}function oa(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Placa "),b.Rb())}function na(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.placa," ")}}function ca(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Capacidad "),b.Rb())}function ba(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.capacidad," ")}}function ra(t,a){1&t&&(b.Sb(0,"th",13),b.Ac(1," Tipo unidad "),b.Rb())}function sa(t,a){if(1&t&&(b.Sb(0,"td",14),b.Ac(1),b.Rb()),2&t){const t=a.$implicit;b.Bb(1),b.Cc(" ",t.tipo," ")}}function la(t,a){1&t&&b.Nb(0,"th",13)}function da(t,a){if(1&t){const t=b.Tb();b.Sb(0,"td",14),b.Sb(1,"button",15),b.Zb("click",(function(){b.rc(t);const e=a.$implicit;return b.dc().openDialog(e)})),b.Sb(2,"mat-icon"),b.Ac(3,"edit"),b.Rb(),b.Rb(),b.Sb(4,"button",16),b.Sb(5,"mat-icon"),b.Ac(6,"delete"),b.Rb(),b.Rb(),b.Rb()}}function ua(t,a){1&t&&b.Nb(0,"tr",17)}function ma(t,a){1&t&&b.Nb(0,"tr",18)}function fa(t,a){1&t&&(b.Sb(0,"div",19),b.Nb(1,"mat-spinner"),b.Rb())}const pa=[{path:"",component:C,children:[{path:"",loadChildren:()=>e.e(4).then(e.bind(null,"/2RN")).then(t=>t.DashboardModule)},{path:"usuarios",component:nt},{path:"colaboradores",component:It},{path:"rutas",component:qt},{path:"perfil",component:Bt},{path:"flota",component:(()=>{class t{constructor(t,a){this.flotaService=t,this.dialog=a,this.displayColumns=["clave","placa","capacidad","tipo","actions"]}ngOnInit(){this.getAll()}getAll(){return this.flotaService.getAll().subscribe(t=>this.data=t)}openDialog(t={}){this.dialog.open(aa,{data:t}).afterClosed().subscribe(()=>this.getAll())}}return t.\u0275fac=function(a){return new(a||t)(b.Mb(Vt),b.Mb(y.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-flota"]],decls:30,vars:5,consts:[[1,"d-flex","justify-content-end"],["mat-mini-fab","",3,"click"],["mat-table","","matTableResponsive","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","clave"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","placa"],["matColumnDef","capacidad"],["matColumnDef","tipo"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","pt-3"]],template:function(t,a){1&t&&(b.Sb(0,"mat-card"),b.Sb(1,"mat-card-header"),b.Sb(2,"mat-card-title"),b.Ac(3,"Flota"),b.Rb(),b.Sb(4,"mat-card-subtitle"),b.Ac(5,"Registro de unidades"),b.Rb(),b.Rb(),b.Sb(6,"div",0),b.Sb(7,"button",1),b.Zb("click",(function(){return a.openDialog()})),b.Sb(8,"mat-icon"),b.Ac(9,"add"),b.Rb(),b.Rb(),b.Rb(),b.Sb(10,"mat-card-content"),b.Sb(11,"table",2),b.Qb(12,3),b.zc(13,ea,2,0,"th",4),b.zc(14,ia,2,1,"td",5),b.Pb(),b.Qb(15,6),b.zc(16,oa,2,0,"th",4),b.zc(17,na,2,1,"td",5),b.Pb(),b.Qb(18,7),b.zc(19,ca,2,0,"th",4),b.zc(20,ba,2,1,"td",5),b.Pb(),b.Qb(21,8),b.zc(22,ra,2,0,"th",4),b.zc(23,sa,2,1,"td",5),b.Pb(),b.Qb(24,9),b.zc(25,la,1,0,"th",4),b.zc(26,da,7,0,"td",5),b.Pb(),b.zc(27,ua,1,0,"tr",10),b.zc(28,ma,1,0,"tr",11),b.Rb(),b.zc(29,fa,2,0,"div",12),b.Rb(),b.Rb()),2&t&&(b.Bb(11),b.ic("dataSource",a.data),b.Bb(16),b.ic("matHeaderRowDef",a.displayColumns)("matHeaderRowDefSticky",!0),b.Bb(1),b.ic("matRowDefColumns",a.displayColumns),b.Bb(1),b.ic("ngIf",!a.data))},directives:[E.a,E.c,E.f,E.e,l.a,d.a,E.b,_.j,H,_.c,_.e,_.b,_.g,_.i,i.l,_.d,_.a,_.f,_.h,L.d],encapsulation:2}),t})()}]}];let ha=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(a){return new(a||t)},imports:[[c.e.forChild(pa)],c.e]}),t})(),Ra=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(a){return new(a||t)},imports:[[i.c,n.a,c.e,o.m]]}),t})(),Sa=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(a){return new(a||t)},imports:[[i.c,o.m,ha,Ra,n.a]]}),t})()}}]);